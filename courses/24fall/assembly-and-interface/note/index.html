
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Yet another FutsÅ« no Material for MkDocs site">
      
      
        <meta name="author" content="YooLc">
      
      
        <link rel="canonical" href="https://yoolc.github.io/notes/courses/24fall/assembly-and-interface/note/">
      
      
        <link rel="prev" href="../chapter-9-11/">
      
      
        <link rel="next" href="../final/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS è®¢é˜…" href="../../../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="å·²æ›´æ–°å†…å®¹çš„ RSS è®¢é˜…" href="../../../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>ç¬”è®° - ç¬”è®°</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=LXGW+WenKai+Screen:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"LXGW WenKai Screen";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../fonts/fonts.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/auto_counter.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/theme.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/mkdocs-plugins-v1.1.0.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/md-post.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lxgw-wenkai-screen-webfont/1.7.0/style.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="goblue" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ç¬”è®°" class="md-skip">
          è·³è½¬è‡³
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="é¡µçœ‰">
    <a href="../../../.." title="ç¬”è®°" class="md-header__button md-logo" aria-label="ç¬”è®°" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ç¬”è®°
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ç¬”è®°
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="goblue" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="æœç´¢" placeholder="æœç´¢" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="æŸ¥æ‰¾">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="åˆ†äº«" aria-label="åˆ†äº«" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="æ¸…ç©ºå½“å‰å†…å®¹" aria-label="æ¸…ç©ºå½“å‰å†…å®¹" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            æ­£åœ¨åˆå§‹åŒ–æœç´¢å¼•æ“
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/YooLc/notes" title="å‰å¾€ä»“åº“" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    YooLc/notes
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="æ ‡ç­¾" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../.." class="md-tabs__link">
          
  
    
  
  é¦–é¡µ

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../blog/" class="md-tabs__link">
          
  
    
  
  ğŸ”¥ åšå®¢

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../computer-architecture/" class="md-tabs__link">
          
  
    
  
  ğŸ“ è¯¾ç¨‹ç¬”è®°

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../architecture/" class="md-tabs__link">
          
  
    
  
  ğŸš€ ä½“ç³»ç»“æ„

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="å¯¼èˆªæ " data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="ç¬”è®°" class="md-nav__button md-logo" aria-label="ç¬”è®°" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ç¬”è®°
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/YooLc/notes" title="å‰å¾€ä»“åº“" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    YooLc/notes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    é¦–é¡µ
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            é¦–é¡µ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../blog/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    ğŸ”¥ åšå®¢
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            ğŸ”¥ åšå®¢
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    å½’æ¡£
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            å½’æ¡£
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/archive/2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    åˆ†ç±»
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            åˆ†ç±»
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/category/foss/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FOSS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/category/x86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    x86
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/category/%E5%AF%86%E7%A0%81%E5%AD%A6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    å¯†ç å­¦
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/category/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    è®¡ç®—æœºä½“ç³»ç»“æ„
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/category/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    è®¡ç®—æœºç§‘å­¦
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    ğŸ“ è¯¾ç¨‹ç¬”è®°
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            ğŸ“ è¯¾ç¨‹ç¬”è®°
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" checked>
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    å¤§ä¸‰
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            å¤§ä¸‰
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../computer-architecture/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    è®¡ç®—æœºä½“ç³»ç»“æ„
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_1" id="__nav_3_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_1">
            <span class="md-nav__icon md-icon"></span>
            è®¡ç®—æœºä½“ç³»ç»“æ„
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../computer-architecture/chapter-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    I - è®¡ç®—æœºè®¾è®¡åŸºç¡€
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../computer-architecture/chapter-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    II - æµæ°´çº¿
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../computer-architecture/chapter-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    III - å†…å­˜å±‚æ¬¡ç»“æ„
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../computer-architecture/chapter-4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IV - æŒ‡ä»¤å¹¶è¡Œ (ILP)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../computer-architecture/chapter-5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    V - çº¿ç¨‹å¹¶è¡Œ (TLP)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    æ±‡ç¼–ä¸æ¥å£
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_2" id="__nav_3_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1_2">
            <span class="md-nav__icon md-icon"></span>
            æ±‡ç¼–ä¸æ¥å£
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    é¢„å¤‡çŸ¥è¯†
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    å¾®å¤„ç†å™¨åŠå…¶ç»“æ„
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    å¯»å€æ–¹å¼
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter-4-6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    x86 æ±‡ç¼–æŒ‡ä»¤
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter-9-11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    æ¥å£
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    ç¬”è®°
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../final/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    æœŸæœ«å†å¹´å·
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../applied-operations-research/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    åº”ç”¨è¿ç­¹å­¦åŸºç¡€
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_3">
            <span class="md-nav__icon md-icon"></span>
            åº”ç”¨è¿ç­¹å­¦åŸºç¡€
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../computer-network/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    è®¡ç®—æœºç½‘ç»œ
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_4">
            <span class="md-nav__icon md-icon"></span>
            è®¡ç®—æœºç½‘ç»œ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../operating-system/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    æ“ä½œç³»ç»Ÿ
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_5" id="__nav_3_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_5">
            <span class="md-nav__icon md-icon"></span>
            æ“ä½œç³»ç»Ÿ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operating-system/note/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ç¬”è®°
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../principles-of-programming-languages/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    ç¼–ç¨‹è¯­è¨€åŸç†
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_6" id="__nav_3_1_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_6">
            <span class="md-nav__icon md-icon"></span>
            ç¼–ç¨‹è¯­è¨€åŸç†
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../principles-of-programming-languages/practice/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    è¯¾ä»¶ä¾‹é¢˜
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../theory-of-computation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    è®¡ç®—ç†è®º
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_7" id="__nav_3_1_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_7">
            <span class="md-nav__icon md-icon"></span>
            è®¡ç®—ç†è®º
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../theory-of-computation/undecidability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    æœŸæœ«å¤ä¹ 
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../architecture/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    ğŸš€ ä½“ç³»ç»“æ„
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            ğŸš€ ä½“ç³»ç»“æ„
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="ç›®å½•">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/YooLc/notes/-/tree/main/docs/courses/24fall/assembly-and-interface/note.md" title="ç¼–è¾‘æ­¤é¡µ" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="ç¬”è®°">ç¬”è®°<a class="headerlink" href="#ç¬”è®°" title="Permanent link">&para;</a></h1>
<p>x86 å¹³å°çš„è¿ç®—èµ„æº</p>
<p>IA-32</p>
<p>æ®µå¯„å­˜å™¨</p>
<p>A: Accumulator, (ç´¯åŠ è¿ç®—æœ‰ç‰¹æ®Šçš„ç¼–ç ï¼Œè¾ƒçŸ­)
B: Base index, C: Counter, D: Data</p>
<p>é€šç”¨å¯„å­˜å™¨</p>
<p>EFLAGS</p>
<p>EIP</p>
<p>MMX (å¤šåª’ä½“æ‰©å±•) å¤ç”¨äº† x87 FPU çš„å¯„å­˜å™¨çš„ä½ 64 ä½ï¼Œå¯ä»¥è¿›è¡Œæ•´æ•°çš„å‘é‡åŒ–
è¦è¿›è¡Œæµ®ç‚¹è¿ç®—ï¼Œéœ€è¦ç”¨ EMMS æŒ‡ä»¤åˆ‡æ¢å› x87 FPU</p>
<p>XMM[0-7]</p>
<p>IA-64</p>
<p>é€šç”¨å¯„å­˜å™¨å¢åŠ åˆ° 16 ä¸ª: RAX, RBX, RCX, RDX, RSI, RDI, RSP, R[8-15]
SSE2 å¯„å­˜å™¨: XMM[0-15]</p>
<p>8-bit: R8B-R15B
16-bit: R8W-R15W
32-bit: R8D-R15D
64-bit: R8-R15</p>
<p>å‡ºäºå…¼å®¹è€ƒè™‘:
å†™å…¥ EAX, RAX é«˜ä½æ¸…é›¶ã€‚ä½†å†™å…¥ AX, AL æ—¶ï¼Œé«˜ä½ä¸åŠ¨ã€‚</p>
<p>EAX ä¼šè®©é«˜ä½æ¸…é›¶ï¼Œæ‰€ä»¥ä¸ç”¨å¿…é¡»çœ‹æˆ RAX çš„ partial registerï¼Œ
å¯ä»¥é€šè¿‡å¯„å­˜å™¨é‡å‘½åè®© EAX å®é™…ä¸Šç”±å¤šä¸ªå¯„å­˜å™¨å¹¶è¡Œè¿ç®—</p>
<p>ä½†æ˜¯ä¸€æ®µä»£ç é‡Œå¦‚æœå‡ºç° EAX å’Œ AXï¼Œé‚£ä¹ˆå°±æ²¡æ³•åšå¯„å­˜å™¨é‡å‘½åäº†</p>
<p>RFLAGS, EFLAGS, FLAGS:
Parity Flag, Auxilary FLag</p>
<p>Memory Management Requirements
è½¯ä»¶ä¸ç¡¬ä»¶é…åˆçš„å†…å­˜ç®¡ç†</p>
<ul>
<li>Relocation: é‡å®šä½</li>
<li>Protection: ä¿æŠ¤ä¸éš”ç¦»</li>
<li>Sharing: å…±äº«éƒ¨åˆ†èµ„æº (çˆ¶è¿›ç¨‹ -&gt; å­è¿›ç¨‹ -&gt; çº¿ç¨‹)</li>
</ul>
<p>å†å²ä¸Šçš„ç®¡ç†æ–¹æ¡ˆ:</p>
<ul>
<li>Segmentation: åˆ†æ®µæœºåˆ¶</li>
<li>Paging: åˆ†é¡µæœºåˆ¶</li>
</ul>
<p>Pitfalls:
Segmentation leads to external fragmentation,
Paging is subject to internal fragmentation</p>
<p>Segmentation are faster than paging table lookups
Paging needs MMU and TLB to accelerate look up</p>
<p>Legacy Mode:
å®æ¨¡å¼: 16+16 Segmentation
è™šæ‹Ÿ 8086 æ¨¡å¼: 16+16 Segmentation + å¯é€‰ Paging
ä¿æŠ¤æ¨¡å¼: 16+32 Segmentation + å¯é€‰ Paging
Long Mode:
å…¼å®¹æ¨¡å¼: 16+32 Segmentation + å¿…é€‰ Paging
64-bit æ¨¡å¼: 64-bit Paging</p>
<p>å†…å­˜å¯»å€:</p>
<ol>
<li>
<p>å®æ¨¡å¼
    (Segment Addr &lt;&lt; 4) + Offset Addr = Physical Addr</p>
<ul>
<li>Relocatable</li>
<li>Shared</li>
<li>No protection
é—®é¢˜:</li>
<li>Wrap Around: FFFF:FFFF -&gt; 0x10FFEF è¶…å‡ºäº† 1M ç©ºé—´ -&gt; å˜æˆäº† 0x0FFEF
               F800:8000 -&gt; 0x100000 -&gt; 0x00000
               Only happens on 8086 / 8088 / 80186 until 80286 upgraded to 24-bit address lines
               https://www.os2museum.com/wp/the-a20-gate-fallout/</li>
</ul>
</li>
<li>
<p>ä¿æŠ¤æ¨¡å¼
    16-bit Segment æŒ‡å‘å…¨å±€æè¿°ç¬¦è¡¨ GDT é‡Œçš„ä¸€ä¸ªæè¿°ç¬¦ (descriptor)
    æ®µçš„åŸºåœ°å€ï¼Œé•¿åº¦å’Œæƒé™
    è®¾ç½®äº† CPU çš„è¿è¡Œçº§åˆ« ring-0 ... ring-3</p>
<p>ç©ºæè¿°ç¬¦:
1. åœ¨åˆå§‹åŒ–æ—¶ï¼Œæ®µå¯„å­˜å™¨è¿˜æ²¡æœ‰è®¾ç½®å¥½ï¼Œä½†å¯èƒ½å‘ç”Ÿæ„å¤–ï¼Œæˆä¸ºäº†æ®µçš„é€‰æ‹©å€¼ï¼Œ
è¿™æ—¶å€™è®©ä»–ä»¬ (=0) éƒ½æŒ‡å‘ç©ºæè¿°ç¬¦ï¼Œå°±å¯ä»¥è§¦å‘ #GP (general protection) å¼‚å¸¸ï¼Œè€Œä¸é€ æˆé—®é¢˜
2. åˆ¤æ–­ä¸­æ–­æ˜¯å¦åµŒå¥—</p>
<p>æè¿°ç¬¦çš„ç»“æ„:</p>
<p>Limit æ®µé•¿åº¦, Base åŸºåœ°å€ (80286: 24-bit, &gt;=80386: 32-bit)
Access Right è®¿é—®æƒé™
G ç²’åº¦ä½: ä¸º 1 æ—¶ï¼ŒLimit é•¿åº¦ 1bit ä»£è¡¨ 4k, 4k * 2^20 = 2^32
D, AV</p>
<p>åœ¨ 64-bit mode, ç»å¤§å¤šæ•°éƒ¨åˆ†ä¸å†ä½¿ç”¨ï¼Œæ–°å¢äº† L ä½ï¼Œ
éœ€è¦å¼€å¯ Long bit æ¥è¿›å…¥ 64-bit æ¨¡å¼</p>
<p>å¿…è€ƒè®¡ç®—:
G=0 limit 1 bit = 1b, segment size = (limit+1) bytes
G=1 limit 1 bit = 4kb, segment size = (limit+1)x4k bytes</p>
<p>eg: Base: 1000 0000, limit: 001FF
G=0, 1000 0000 - 1000 01FF
G=1, 1000 0000 - 101F FFFF (ç»“æŸä½ç½® = èµ·å§‹ä½ç½® + æ®µé•¿åº¦ - 1)
å·¦ç§»3ä½ï¼Œè¡¥FFF</p>
<p>Access Rights:
1. P ä½ è¡¨ç¤ºæè¿°ç¬¦æ˜¯å¦æœ‰æ•ˆ
2. DPL ä½ (2 bit):
    Ring 0, Ring 1, Ring 2, Ring 3
    ä¸å¾—è¶Šæƒè®¿é—®ï¼Œéœ€è¦é€šè¿‡ Gate Descriptor
3. S ä½ è¡¨ç¤ºæ˜¯å¦ä¸ºç³»ç»Ÿæè¿°ç¬¦
4. Type: ä»£ç  / å †æ ˆ / æ•°æ®ï¼Œ ä»¥åŠè¯»å†™æƒé™</p>
<ol>
<li>A ä½: æ®µæ˜¯å¦è¢«è®¿é—®è¿‡</li>
</ol>
<p>é€‰æ‹©å€¼ (CS / DS / SS å­˜çš„ 16-bit):
1. 15-3 (13-bit, 8k ä¸ªæè¿°ç¬¦): Descriptor index
2. 2: TI, è¡¨ç¤ºæè¿°ç¬¦ç´¢å¼•åœ¨ GDT (å…¨å±€æè¿°ç¬¦) è¿˜æ˜¯ LDT (å±€éƒ¨æè¿°ç¬¦)
3. 1-0: RPL é€‰æ‹©å€¼è‡ªèº«çš„æƒé™ Ring 0 - Ring 3</p>
<p>å®‰å…¨çº§åˆ«çš„è®¾ç½®:
1. DPL æè¿°ç¬¦æƒé™çº§åˆ«
2. RPL è¯·æ±‚çš„æƒé™çº§åˆ«ï¼Œæ”¾åœ¨ DS å¯„å­˜å™¨çš„ä½ 2 ä½
2. CPL CPU è‡ªèº«çš„æƒé™çº§åˆ«ï¼Œæ”¾åœ¨ CS å¯„å­˜å™¨çš„ä½ 2 ä½</p>
<p>RPL å’Œ CPLï¼Œé€šè¿‡é—¨æè¿°ç¬¦è¶Šçº§æ‰§è¡Œé«˜æƒé™çš„ä»£ç æ—¶ï¼Œè¯·æ±‚çš„å†…å­˜åœ°å€è¿˜æ˜¯åŸæ¥çš„æƒé™çº§åˆ«</p>
<p>æ•°æ®éœ€è¦ MAX(RPL, CPL) &lt;= DPL
å †æ ˆéœ€è¦ CPL = RPL = DPL</p>
<p>æè¿°ç¬¦è¡¨çš„åŸºåœ°å€ç”±ä¸“é—¨çš„å¯„å­˜å™¨å­˜å‚¨: GDTR å…¨å±€æè¿°ç¬¦, LDTR å±€éƒ¨æè¿°ç¬¦, IDTR ä¸­æ–­æè¿°ç¬¦</p>
</li>
</ol>
<p>Chapter 3 å¯»å€æ–¹å¼</p>
<p>é»˜è®¤åœ°å€é•¿åº¦å’Œé»˜è®¤æ“ä½œæ•°é•¿åº¦:</p>
<p><a class="glightbox" href="../assets/note/image-20240929100446670.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929100446670" src="../assets/note/image-20240929100446670.png" /></a></p>
<p>åœ¨é»˜è®¤æƒ…å†µä¸‹æŒ‡ä»¤ç¼–ç è¾ƒçŸ­</p>
<p>æ¯”å¦‚ 64-bit æ¨¡å¼ä¸‹ <code>mov eax, [rbx]</code> æ“ä½œæ•°é•¿åº¦ä¸º 32 ä½ï¼Œåœ°å€é•¿åº¦ä¸º 64 ä½ï¼Œç¼–ç ä¸º <code>8B 03</code>, ç›¸æ¯”ä¹‹ä¸‹ <code>mov rax, [rbx]</code> çš„ç¼–ç ä¸º <code>48 8B 03</code>.</p>
<p>Part 1 æ•°æ®ç›¸å…³çš„å¯»å€</p>
<p>æ“ä½œæ•°å¯ä»¥æ˜¯ç«‹å³æ•°ï¼Œå¯„å­˜å™¨å’Œå†…å­˜ä¸Šçš„å€¼</p>
<ol>
<li>å¯„å­˜å™¨å¯»å€ <code>mov ax, bx</code></li>
<li>ç«‹å³æ•°å¯»å€ <code>mov eax, 12345H</code></li>
</ol>
<p>éœ€è¦æ³¨æ„: 16è¿›åˆ¶æ•°å­—å­—æ¯å¼€å¤´æ—¶ï¼Œå‰åŠ 0ï¼Œå¦åˆ™ä¼šè¢«ç†è§£ä¸º label</p>
<p><a class="glightbox" href="../assets/note/image-20240929103348525.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929103348525" src="../assets/note/image-20240929103348525.png" /></a></p>
<p>æ³¨æ„åˆ’çº¿</p>
<p><a class="glightbox" href="../assets/note/image-20240929103418840.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929103418840" src="../assets/note/image-20240929103418840.png" /></a></p>
<p>å¯»å€æ–¹å¼:</p>
<ol>
<li><code>Effective Address = Disp</code></li>
</ol>
<p>å¦‚æœç›®çš„å¯„å­˜å™¨æ˜¯ A ç³»åˆ—çš„å¯„å­˜å™¨ï¼ŒæŒ‡ä»¤ç¼–ç ä¼šçŸ­</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>mov al, [1234H] ; A0 34 12
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>mov cl, [1234H] ; 8A 0E 34 12
</span></code></pre></div>
<p><a class="glightbox" href="../assets/note/image-20240929103850499.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929103850499" src="../assets/note/image-20240929103850499.png" /></a></p>
<ol>
<li><code>Effective Address = Base</code></li>
</ol>
<p>8086-80286, åªå…è®¸ä½¿ç”¨ (base register:) bx, bp, (index register:) si, di æ¥ä½œä¸ºåŸºå€å¯„å­˜å™¨</p>
<p>80386 åŠä¹‹åå¯ç”¨ä»»æ„ 32 ä½é€šç”¨å¯„å­˜å™¨</p>
<p>64-bit æ¨¡å¼ï¼Œæ®µå¯„å­˜å™¨ä¸ç”¨æ¥è¿›è¡Œå¯»å€</p>
<p>bpå¯»å€æ—¶ï¼Œé»˜è®¤æ®µå¯„å­˜å™¨ä¸º ss</p>
<p><a class="glightbox" href="../assets/note/image-20240929105218139.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929105218139" src="../assets/note/image-20240929105218139.png" /></a></p>
<p>ä¸Šé¢çš„ size directive å¦‚ä½•å½±å“æŒ‡ä»¤ç¼–ç :</p>
<p><a class="glightbox" href="../assets/note/image-20240929110251777.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929110251777" src="../assets/note/image-20240929110251777.png" /></a></p>
<ol>
<li><code>Effective Address = Base + Index</code></li>
</ol>
<p><a class="glightbox" href="../assets/note/image-20240929111943527.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929111943527" src="../assets/note/image-20240929111943527.png" /></a></p>
<p>movsx çš„ä½¿ç”¨éå¸¸ç»†èŠ‚ï¼Œchar -&gt; int çš„è½¬æ¢å‘ç”Ÿåœ¨è¿™é‡Œ</p>
<ol>
<li>
<p><code>Effective Address = Base / Index + Disp</code></p>
</li>
<li>
<p><code>Effective Address = Base + Index + Disp</code></p>
</li>
</ol>
<p>å¯ç”¨äºäºŒç»´æ•°ç»„/ç»“æ„ä½“çš„ç´¢å¼•</p>
<ol>
<li><code>Effective Address = Base + (ScaleÃ—Index) + Disp</code></li>
</ol>
<p>ä¹Ÿå¯ç”¨äºäºŒç»´æ•°ç»„/ç»“æ„ä½“çš„ç´¢å¼•, scale å¯ä»¥æ˜¯ 1, 2, 4, 8</p>
<p><a class="glightbox" href="../assets/note/image-20240929112831878.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929112831878" src="../assets/note/image-20240929112831878.png" /></a></p>
<p>64 ä½çš„æ–°å¯»å€æ–¹å¼: RIP relative addressing</p>
<p>å¹³å¦å†…å­˜æ–¹å¼ï¼Œæ²¡æœ‰ä»€ä¹ˆæ®µäº†ï¼Œå¯ä»¥ç›´æ¥ç”¨ rip å’Œåç§»é‡å¯»å€</p>
<p><a class="glightbox" href="../assets/note/image-20240929113322565.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929113322565" src="../assets/note/image-20240929113322565.png" /></a></p>
<p>å®é™…ä¸Šåªç”¨äº† 48 ä½è™šæ‹Ÿåœ°å€ï¼Œæ‰€ä»¥é«˜ 4 byte å¿…é¡»æ˜¯ç¬¦å·æ‰©å±•ï¼Œå¦åˆ™è§¦å‘ #GP</p>
<p><a class="glightbox" href="../assets/note/image-20240929113915187.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929113915187" src="../assets/note/image-20240929113915187.png" /></a></p>
<p>æ€»ç»“: 8 ç§å†…å­˜å¯»å€æ–¹å¼</p>
<p><a class="glightbox" href="../assets/note/image-20240929114949722.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929114949722" src="../assets/note/image-20240929114949722.png" /></a></p>
<p>base å’Œ index register çš„é€‰æ‹©:</p>
<p><a class="glightbox" href="../assets/note/image-20240929115247617.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929115247617" src="../assets/note/image-20240929115247617.png" /></a></p>
<p>ç‰¹æ®Šè§„åˆ™: </p>
<ol>
<li>åªè¦å‡ºç° BP/EBP, æˆ–è€… ESP, é‚£ä¹ˆæ®µçš„åŸºåœ°å€é»˜è®¤å°±æ˜¯ ss</li>
<li>ESP ä¸èƒ½åšç´¢å¼• index å¯„å­˜å™¨</li>
</ol>
<p>ä¾‹é¢˜:</p>
<p><a class="glightbox" href="../assets/note/image-20240929115155303-1727581916882-3.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929115155303" src="../assets/note/image-20240929115155303-1727581916882-3.png" /></a></p>
<p>ESP åªèƒ½åš base ä¸èƒ½ä½œä¸º indexï¼Œæ‰€ä»¥ D æ˜¯é”™çš„</p>
<p>Part 2 ä»£ç ç›¸å…³çš„å¯»å€ - ä¸ç¨‹åºæ§åˆ¶æµçš„æŒ‡ä»¤æœ‰å…³</p>
<p><a class="glightbox" href="../assets/note/image-20240929115356674.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929115356674" src="../assets/note/image-20240929115356674.png" /></a> </p>
<p>Relative offset: åŸºäº ip + offset è·³è½¬</p>
<p>Absolute offset: åŸºäºç»å¯¹åœ°å€è·³è½¬</p>
<p>è·³è½¬æ–¹å¼ä¸è·ç¦»:</p>
<p><a class="glightbox" href="../assets/note/image-20240929120002592.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929120002592" src="../assets/note/image-20240929120002592.png" /></a></p>
<p>æŒ‡ä»¤ç¼–ç : 71AC - 71AA = 2</p>
<p><a class="glightbox" href="../assets/note/image-20241011101133679.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011101133679" src="../assets/note/image-20241011101133679.png" /></a></p>
<p>Far jump è·¨æ®µè·³è½¬æ—¶ï¼Œå¿…é¡»è·³è½¬åˆ°ç›¸åŒ ring çº§åˆ«</p>
<p>è¿›å…¥ä¿æŠ¤æ¨¡å¼æ—¶ï¼Œcs ä»æ®µå˜æˆä¸€ä¸ªé€‰æ‹©å€¼ï¼Œè¦åˆ·æ–° csï¼Œè€Œåªæœ‰è·³è½¬æŒ‡ä»¤å¯ä»¥æ›´æ”¹ cs</p>
<p><a class="glightbox" href="../assets/note/image-20240929120605275.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240929120605275" src="../assets/note/image-20240929120605275.png" /></a>jmp è¿˜å¯ä»¥ä½¿ç”¨å†…å­˜é‡Œçš„å€¼ä½œä¸ºåç§»
<div class="language-asm highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nf">jmp</span><span class="w"> </span><span class="no">near</span><span class="w"> </span><span class="no">ptr</span><span class="p">[</span><span class="no">di</span><span class="err">+</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="c1">; 2 Byte, Offset</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nf">jmp</span><span class="w"> </span><span class="no">far</span><span class="w"> </span><span class="no">ptr</span><span class="p">[</span><span class="no">di</span><span class="err">+</span><span class="mi">2</span><span class="p">]</span><span class="w">  </span><span class="c1">; 4 Byte, Segment + Offset</span>
</span></code></pre></div></p>
<p>æ ˆå†…å­˜çš„åœ°å€å¯»å€æ–¹å¼</p>
<p>æ ˆçš„æ“ä½œ: push, popï¼ŒLIFO</p>
<p>å¯ä»¥å…¥æ ˆæˆ–å‡ºæ ˆçš„: é€šç”¨å¯„å­˜å™¨ï¼Œæ ‡å¿—å¯„å­˜å™¨ï¼Œæµ®ç‚¹å¯„å­˜å™¨ï¼Œç«‹å³æ•°</p>
<p>å…¥æ ˆæŒ‰ç…§å°ç«¯æ ¼å¼ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸º: é«˜ä½å…ˆå…¥æ ˆï¼Œä½ä½åå…¥æ ˆï¼Œä½ä½å…ˆå‡ºæ ˆï¼Œé«˜ä½åå‡ºæ ˆ</p>
<p>pusha (push all): å­˜å…¥æ‰€æœ‰é€šç”¨å¯„å­˜å™¨ï¼Œä¸åŒ…æ‹¬æ®µå¯„å­˜å™¨ï¼ˆæ®µå¯„å­˜å™¨ä¸æ˜¯é€šç”¨å¯„å­˜å™¨ï¼‰ï¼Œsp ä¸ºå…¥æ ˆå‰çš„å€¼</p>
<p>pushad (push all double): å­˜å…¥ 32 ä½å¯„å­˜å™¨</p>
<p>pushf (push flags): å­˜å…¥ flag å¯„å­˜å™¨</p>
<p>Chapter 4</p>
<p>2-bit ç¼–ç  3 ç§æŒ‡ä»¤æ“ä½œæ¨¡å¼</p>
<p><a class="glightbox" href="../assets/note/image-20241011103814965.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011103814965" src="../assets/note/image-20241011103814965.png" /></a></p>
<p>æŒ‡ä»¤ç¼–ç æ ¼å¼:</p>
<p><a class="glightbox" href="../assets/note/image-20241011103938066.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011103938066" src="../assets/note/image-20241011103938066.png" /></a></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>mov word ptr [eax], 5 ; 67 66 c7 00 05 00 - 64-bit
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>mov word ptr [eax], 5 ;    66 c7 00 05 00 - 32-bit
</span></code></pre></div>
<p>æœ€é•¿çš„æŒ‡ä»¤èƒ½è¾¾åˆ° 15 Byte</p>
<p>OPCODE ä¸­çš„æ–¹å‘ä½å’Œå®½åº¦ä½</p>
<p><a class="glightbox" href="../assets/note/image-20241011105638435.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011105638435" src="../assets/note/image-20241011105638435.png" /></a></p>
<p>D=0 æ•°æ®ç”± R/M åˆ° REG</p>
<p>D=1, æ•°æ®ç”± REG åˆ° R/M</p>
<p>W=0, æ•°æ®ä¸º byte, 8 ä½</p>
<p>W=1, æ•°æ®ä¸º word / doubleword</p>
<p><a class="glightbox" href="../assets/note/image-20241011105834435.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011105834435" src="../assets/note/image-20241011105834435.png" /></a></p>
<p>MOD Field, æŒ‡å®šå¯»å€æ–¹å¼</p>
<p><a class="glightbox" href="../assets/note/image-20241011110145756.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011110145756" src="../assets/note/image-20241011110145756.png" /></a></p>
<p>REG/Opcode Field</p>
<p><a class="glightbox" href="../assets/note/image-20241011110504456.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011110504456" src="../assets/note/image-20241011110504456.png" /></a></p>
<p>20/r è¡¨ç¤ºä¸¤ä¸ªåŸŸéƒ½æ˜¯å¯„å­˜å™¨ï¼Œopcode ä¸º 0x20</p>
<p>80 /4 ib è¡¨ç¤º MOD ä¸æ˜¯æ”¾å¯„å­˜å™¨ï¼Œ/4 è¡¨ç¤ºæ‰©å±•ä¸€ä¸ªæ“ä½œç ï¼ŒMOD ç¬¬äºŒä¸ªåŸŸ R/M è®¾ç½®ä¸º 3'b100ï¼Œåˆèµ·æ¥ä»£è¡¨å¸¦äº†ä¸€ä¸ªç«‹å³æ•°</p>
<p>æŒ‡ä»¤ç¼–ç è§£æ:</p>
<p><a class="glightbox" href="../assets/note/image-20241011111201676.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011111201676" src="../assets/note/image-20241011111201676.png" /></a></p>
<p>32 ä½ä¸‹ï¼Œå‡ ä¹æ‰€æœ‰å¯„å­˜å™¨éƒ½å¯ä»¥ä½œä¸º index ï¼ˆé™¤äº† espï¼‰</p>
<p>æ­¤æ—¶ R/M åŸŸçš„ç¼–ç æœ‰æ‰©å±•</p>
<p><a class="glightbox" href="../assets/note/image-20241011111738162.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011111738162" src="../assets/note/image-20241011111738162.png" /></a></p>
<p>REX å¯„å­˜å™¨æ‰©å±•å‰ç¼€ï¼Œå¯ä»¥ç”¨æ¥å»æ‰¾ r8-r15 è¿™äº›å¯„å­˜å™¨ï¼Œè¡¥å……äº†åŸæ¥çš„ç¼–ç </p>
<p><a class="glightbox" href="../assets/note/image-20241011112413375.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011112413375" src="../assets/note/image-20241011112413375.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241011112941697.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011112941697" src="../assets/note/image-20241011112941697.png" /></a></p>
<p>Legacy Prefix: ç»„å†…ä¸èƒ½é‡å¤ï¼Œç»„ä¹‹é—´å¯ä»¥ç»„åˆ</p>
<p><a class="glightbox" href="../assets/note/image-20241011113022143.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011113022143" src="../assets/note/image-20241011113022143.png" /></a></p>
<ol>
<li>é‡å¤</li>
<li>æ®µæ”¹å†™</li>
<li>æ“ä½œæ•°é•¿åº¦å˜åŒ–</li>
<li>å¯»å€é•¿åº¦å˜åŒ–</li>
</ol>
<p>LOCK å‰ç¼€: åŸå­æ“ä½œï¼Œç»™ä¸æ”¯æŒçš„æŒ‡ä»¤åŠ ï¼Œä¼šæŠ¥ undefined opcode å¼‚å¸¸</p>
<p><a class="glightbox" href="../assets/note/image-20241011113214334.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011113214334" src="../assets/note/image-20241011113214334.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241011114145507.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011114145507" src="../assets/note/image-20241011114145507.png" /></a></p>
<p>0FH è½¬ä¹‰åºåˆ—</p>
<p><a class="glightbox" href="../assets/note/image-20241011115909460.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011115909460" src="../assets/note/image-20241011115909460.png" /></a></p>
<p>æ‰©å±• opcode çš„ç¼–ç ç©ºé—´</p>
<p>lea ç”¨æ¥çµæ´»åœ°è®¡ç®—åœ°å€åç§» / ç®€åŒ–è®¡ç®—</p>
<p>mov ç±»æŒ‡ä»¤ä¸æ”¹å˜ flags</p>
<p><a class="glightbox" href="../assets/note/image-20241011121132959.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011121132959" src="../assets/note/image-20241011121132959.png" /></a></p>
<p>mov çš„æ—¶å€™ï¼Œæ±‡ç¼–å·²ç»æŠŠ offset ç®—å¥½äº†ï¼Œ</p>
<p>è€Œ lea éœ€è¦æ‰§è¡Œçš„æ—¶å€™æ‰å¼€å§‹è®¡ç®—</p>
<p>ä½† mov åªèƒ½æ˜¯é™æ€çš„ç«‹å³æ•°ï¼Œlea å¯ä»¥ç”¨åœ°å€è¡¨è¾¾å¼ï¼Œå¯ä»¥ç»„åˆå¤šä¸ªå¯„å­˜å™¨</p>
<p>è£…è½½æŒ‡é’ˆçš„æŒ‡ä»¤: lds, les, lfs, lgs, lss</p>
<p><a class="glightbox" href="../assets/note/image-20241011121736901.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241011121736901" src="../assets/note/image-20241011121736901.png" /></a></p>
<p>ä»»åŠ¡åˆ‡æ¢çš„æ—¶å€™å¯ä»¥ç”¨è¿™ä¸ª</p>
<p>å­—ç¬¦ä¸²æ“ä½œæŒ‡ä»¤: lods, stos, movs, ins, outs</p>
<p>å­—ç¬¦ä¸²æ¯”è¾ƒæŒ‡ä»¤: scas, cmps</p>
<p>æŒ‡ä»¤ç¼–ç çŸ­ï¼Œå› ä¸ºéšè—äº†æ“ä½œæ•°  (esi, edi / ds:si, es:di ä»¥åŠ ecx ä½œä¸ºæœ€å¤§æ¯”è¾ƒæ¬¡æ•°)ï¼Œå‰åŠ  repe å‰ç¼€</p>
<p>è¿™ä¸€å¥—æŒ‡ä»¤éƒ½æœ‰åç¼€: s, w, d ä»£è¡¨å•æ¬¡æ“ä½œçš„é•¿åº¦</p>
<p><a class="glightbox" href="../assets/note/image-20241025101325587.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241025101325587" src="../assets/note/image-20241025101325587.png" /></a></p>
<p>rep é‡å¤å‰ç¼€ä¹Ÿæ˜¯ä¸€ç³»åˆ—çš„:</p>
<p><a class="glightbox" href="../assets/note/image-20241025101342189.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241025101342189" src="../assets/note/image-20241025101342189.png" /></a></p>
<p>bswap äº¤æ¢å­—èŠ‚åº</p>
<p>å› ä¸ºæ²¡æœ‰ MODï¼Œ ç¼–ç å¯„å­˜å™¨æ”¾åœ¨äº† Opcode é‡Œï¼Œ0F C8 çš„åä¸‰ä½
64 ä½æ—¶ï¼Œå†å’Œ REX.W ä¸­çš„ 1 ä½ç»„åˆï¼Œç¼–ç  16 ä¸ªå¯„å­˜å™¨</p>
<p>æ¡ä»¶ç§»åŠ¨ cmovï¼Œ æ ¹æ® flags ä¸­çš„çŠ¶æ€ä½è¿›è¡Œç§»åŠ¨
cmov çš„å¥½å¤„åœ¨äºå¯ä»¥å‡å°‘ if-else çš„åˆ†æ”¯æŒ‡ä»¤ï¼Œå‡å°‘ branch misprediction</p>
<p>Memory Organization</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>name SEGMENT
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>name ENDS
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>name MACRO
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>ENDM (ä¸éœ€è¦å†å†™ä¸€æ¬¡ name)
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>END start -&gt; æŒ‡ç¤ºå…¥å£ç‚¹
</span></code></pre></div>
<p>Arithmetic and Logic Instructions</p>
<p>INC æŒ‡ä»¤ä¿æŒ CF ä¸åŠ¨ï¼Œå…¶ä»–çš„ Flags éƒ½æœ‰å¯èƒ½æ›´æ–°</p>
<p>é€’å¢æŒ‡ä»¤å¾€å¾€ç”¨äºå¾ªç¯ï¼Œå¸Œæœ›è¿™ä¸ªé€’å¢å˜é‡ä¸è¦å¹²æ‰°å¾ªç¯é‡Œé¢çš„ CF</p>
<p>ADC å¸¦è¿›ä½åŠ </p>
<p>è¾ƒé•¿çš„äºŒè¿›åˆ¶æ•°åŠ æ³•ç”¨å¾ªç¯å’Œ ADC æŒ‡ä»¤å®ç°</p>
<p>åœ¨å¼€å§‹å‰éœ€è¦ç”¨ clc æ¸…é™¤è¿›ä½ flag</p>
<p><a class="glightbox" href="../assets/note/image-20241026103111555.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241026103111555" src="../assets/note/image-20241026103111555.png" /></a></p>
<p>ç»†èŠ‚: <strong>è¿™é‡Œä½¿ç”¨äº† leaï¼Œlea å±äºå†…å­˜ç§»åŠ¨æŒ‡ä»¤ï¼Œä¸å½±å“ flagsï¼ŒåŒç† dec ä¹Ÿä¸å½±å“ Carry Flag</strong></p>
<p>è€Œ ADD æŒ‡ä»¤ä¼šå½±å“ Carry</p>
<p>å˜ç§å¸¦è¿›ä½åŠ æ³•æŒ‡ä»¤: adcx, adox</p>
<p><a class="glightbox" href="../assets/note/image-20241026103613635.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241026103613635" src="../assets/note/image-20241026103613635.png" /></a></p>
<p>ç›¸å½“äº Ripple åŠ æ³•å™¨åˆ°è¶…å‰è¿›ä½åŠ æ³•å™¨çš„å˜åŒ–</p>
<p>åŸæ¥åªèƒ½æœ‰ä¸€æ¡ Carry Chain, ä¸èƒ½å†²çªï¼Œ</p>
<p>åé¢è‹±ç‰¹å°”å¼•å…¥äº† adcx å’Œ adoxï¼Œå…è®¸ä¸¤æ¡ Carry Chainï¼Œåˆ†åˆ«ä½¿ç”¨ CF å’Œ OFï¼Œæé«˜äº†å¹¶è¡Œæ€§ ï¼ˆ2012ï¼‰</p>
<p><a class="glightbox" href="../assets/note/image-20241026103715415.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241026103715415" src="../assets/note/image-20241026103715415.png" /></a></p>
<p>adcx ä½¿ç”¨ Carry Flagï¼Œä¸ä¼šä¿®æ”¹ Overflow Flag</p>
<p>adox ä½¿ç”¨ Overflow Flag, ä¸ä¼šä¿®æ”¹ Carry Flag</p>
<p>ä¸Šé¢çš„ä»£ç æœ‰ä¸€ç‚¹å°é—®é¢˜ï¼Œå› ä¸º dec ä¸ä¼šç ´å CFï¼Œè€Œä¼šç ´å OFï¼Œä½†æ˜¯ dec åœ¨æ­£å¸¸å¾ªç¯ä¸­ä¸äº§ç”Ÿ OF</p>
<p>Karatsuba ç®—æ³•: Intel è¿˜è®¾è®¡äº† mulx æŒ‡ä»¤</p>
<p>xadd (&gt; 80486)</p>
<p>å…ˆè¿›è¡Œæºå’Œç›®æ ‡æ•°æ®äº¤æ¢ï¼Œå¹¶æŠŠæºåŠ åˆ°ç›®çš„æ“ä½œæ•°é‡Œ des = src + des</p>
<p>å¾ˆå°‘çš„æ”¹å˜ src çš„æŒ‡ä»¤</p>
<p>xadd å…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°å¯ä»¥æ˜¯å†…å­˜ï¼Œå› æ­¤å¯ä»¥ç”¨æ¥åšé”</p>
<p>ä¹è§‚é”ä¸æ‚²è§‚é”:</p>
<p>spin lock æ˜¯æ‚²è§‚é”: è®¤ä¸ºå¾ˆå¤§æ¦‚ç‡å†²çªï¼Œåœ¨è¿›è¡Œäº‹æƒ…å‰ä¸Šé”ï¼Œç»“æŸåè§£é”</p>
<p>ä¹è§‚é”ï¼šæœ‰å¹¶å‘ï¼Œä½†å†²çªå¯èƒ½æ€§è¾ƒå°ï¼Œå…ˆåšåŠ¨ä½œï¼Œå†æ£€æŸ¥æ˜¯å¦å†²çª</p>
<p><a class="glightbox" href="../assets/note/image-20241026110222860.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241026110222860" src="../assets/note/image-20241026110222860.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241026110520404.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241026110520404" src="../assets/note/image-20241026110520404.png" /></a></p>
<p>å‡æ³•: sub, dec, sbb å¸¦å€Ÿä½å‡æ³•ï¼ˆå…¨å‡ï¼‰</p>
<p>Compare and Exchange</p>
<p>å…ˆåš compare å†åš exchange</p>
<p>CMPXCHG des, src (éšè—æ“ä½œæ•°ç´¯åŠ å™¨: AL/AX/EAX)</p>
<ul>
<li>if des == accu, then des = src, ZF=1</li>
<li>if des != accu, then accu = des, ZF=0</li>
</ul>
<p><a class="glightbox" href="../assets/note/image-20241026112038864.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241026112038864" src="../assets/note/image-20241026112038864.png" /></a></p>
<p>div, idiv, mul, imul åŒºåˆ†æœ‰æ— ç¬¦å·ï¼Œæœ€ä¸»è¦çš„åŒºåˆ«æ˜¯è¿›è¡Œæ‰©å±•æ—¶é«˜ä½å¦‚ä½•å¡«å……</p>
<p>è€Œ add å’Œ sub ä¸éœ€è¦ç®¡ï¼Œå› ä¸ºè¡¥ç ç®—å‡ºæ¥å°±æ˜¯å¯¹çš„</p>
<p>ç¬¦å·æ‰©å±•æŒ‡ä»¤:</p>
<p>CBW, CWDE, CDQEï¼š A ç³»åˆ—å¯„å­˜å™¨æœ‰ç¬¦å·æ‰©å±•</p>
<p>CWD,CDQ,CQOï¼šAX -&gt; DX:AX æ‰©å±•</p>
<p>MOVSX, MOVSDï¼šç§»åŠ¨+æ‰©å±•</p>
<p>MOVZX: é›¶æ‰©å±•</p>
<p>å†å²é—ç•™æŒ‡ä»¤ï¼ŒBCD ä¸ ASCII æŒ‡ä»¤:</p>
<ul>
<li>DAA, DAS å¯¹ BCD ç è¿›è¡Œè¿ç®—</li>
</ul>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nf">mov</span><span class="w"> </span><span class="no">al</span><span class="p">,</span><span class="w"> </span><span class="mi">35</span><span class="no">H</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nf">add</span><span class="w"> </span><span class="no">al</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="no">H</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nf">daa</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="nf">mov</span><span class="w"> </span><span class="no">al</span><span class="p">,</span><span class="w"> </span><span class="mi">35</span><span class="no">h</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="nf">add</span><span class="w"> </span><span class="no">al</span><span class="p">,</span><span class="w"> </span><span class="mi">65</span><span class="no">h</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="nf">daa</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="c1"># al: 00, CF: 1</span>
</span></code></pre></div>
<ul>
<li>AAA,  AAS, AAM, AAD å¯¹ ASCII ç è¿›è¡Œè¿ç®—:  ASCII: <code>30h-39h</code></li>
</ul>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nf">aaa</span><span class="w"> </span><span class="c1">; if AL[3:0]&gt;9 or AF=1, then AL+=6, AH=1, clear AL[7:4],CF=1, AF=1; else CF=0, AF=0</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="nf">mov</span><span class="w"> </span><span class="no">al</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">3</span><span class="err">&#39;</span><span class="w"> </span><span class="c1">; 33h</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="nf">add</span><span class="w"> </span><span class="no">al</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">4</span><span class="err">&#39;</span><span class="w"> </span><span class="c1">; 34h, al = 67h</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="nf">aaa</span><span class="w">         </span><span class="c1">; AH=0, AL=7h, CF=0, AF=0</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="nf">mov</span><span class="w"> </span><span class="no">ax</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">1</span><span class="err">&#39;</span><span class="w"> </span><span class="c1">; 31h</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="nf">mov</span><span class="w"> </span><span class="no">ax</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="mi">9</span><span class="err">&#39;</span><span class="w"> </span><span class="c1">; 39h, al=6Ah</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="nf">aaa</span><span class="w">         </span><span class="c1">; AH=1, AL=0h, CF=1, AF=1s</span>
</span></code></pre></div>
<p>test åšä¸æ“ä½œï¼Œä¸å½±å“ç»“æœï¼Œåªå½±å“ flags</p>
<p>ä½æ“ä½œæŒ‡ä»¤</p>
<p>bt, btc, btr, bts</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>bt: æµ‹è¯•è¯¥ä½
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>btc: æµ‹è¯•ï¼Œå–å
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>btr: æµ‹è¯•ï¼Œè®¾ç½®ä¸º 0
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>bts: æµ‹è¯•ï¼Œè®¾ç½®ä¸º 1
</span></code></pre></div>
<p>not å–é</p>
<p>neg å–è¡¥ï¼Œå½±å“ flag</p>
<p><a class="glightbox" href="../assets/note/image-20241101105916446.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241101105916446" src="../assets/note/image-20241101105916446.png" /></a></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>int signum (int x) 
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>{ 
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    if (x &gt; 0)  
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>        return 1; 
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    else if (x &lt; 0)  
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>        return -1; 
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>    else  
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>        return 0; 
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>}
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>signum-icx:
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>    mov     ecx, edi
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>    sar     ecx, 31
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>    test    edi, edi
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>    mov     eax, 1
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>    cmovle  eax, ecx
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>    ret
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>signum-minimum:
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>    cwd
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>    neg ax
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>    adc dx, dx
</span></code></pre></div>
<p><a class="glightbox" href="../assets/note/image-20241101110547754.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241101110547754" src="../assets/note/image-20241101110547754.png" /></a></p>
<p>sarï¼Œ sal ç®—æ•°ç§»ä½ï¼Œè¡¥å……ç¬¦å·ä½</p>
<p>idiv å’Œ sar æœ‰æ—¶ä¼šä¸ä¸€æ ·,idivçš„ç­–ç•¥æ˜¯ round toward zeroï¼Œè€Œç®—æ•°å³ç§» rount toward negative infinity</p>
<p><a class="glightbox" href="../assets/note/image-20241101111847140.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241101111847140" src="../assets/note/image-20241101111847140.png" /></a></p>
<p>ä¿®è¡¥: åœ¨é™¤ä¹‹å‰ï¼Œå¯¹è¢«é™¤æ•°æ·»åŠ  (1&lt;&lt;k-1) ä¹Ÿå°±æ˜¯åŠ ä¸Šä½ k ä½ä¸º 1 çš„æ•°ï¼Œå¦‚æœè¢«é™¤æ•°ä½ k ä½å­˜åœ¨ä¸€ä½ä¸º 1ï¼Œé‚£ä¹ˆå°±ä¼šè¿›ä½ä¸Šå»ï¼Œåé¢ç§»ä½å›å»æ—¶ï¼Œè¢«é™¤æ•°è¿™ä¸€ä½è¿˜ä¿ç•™ï¼Œé‚£ä¹ˆå°±å®ç°äº† round toward zero çš„èˆå…¥æ¨¡å‹</p>
<p><a class="glightbox" href="../assets/note/image-20241101112635523.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241101112635523" src="../assets/note/image-20241101112635523.png" /></a></p>
<p>shldm shrd: åŒç²¾åº¦ç§»ä½ï¼Œä¸¤ä¸ªå¯„å­˜å™¨ä¸²åœ¨ä¸€èµ·ç§»ä½</p>
<p><a class="glightbox" href="../assets/note/image-20241101112951103.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241101112951103" src="../assets/note/image-20241101112951103.png" /></a></p>
<p>ROL, ROR ä¸å¸¦ CF å¾ªç¯ç§»ä½</p>
<p>RCL, RCR å¸¦ CF å¾ªç¯ç§»ä½</p>
<p>å­—ç¬¦ä¸²æ¯”è¾ƒæŒ‡ä»¤ movs, lods, stos, ins, outs</p>
<p>ä»¥åŠä¸¤æ¡å½±å“ flag çš„æŒ‡ä»¤: scas (string scan), cmps (string compare)</p>
<p><a class="glightbox" href="../assets/note/image-20241101115830205.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241101115830205" src="../assets/note/image-20241101115830205.png" /></a></p>
<p>di å›é€€ä¸€ä¸ªä½ç½®æ‰èƒ½æ‰¾åˆ° 00</p>
<p>Chapter 6 æ§åˆ¶æŒ‡ä»¤</p>
<ol>
<li>è·³è½¬æŒ‡ä»¤</li>
</ol>
<p>æ— æ¡ä»¶è·³è½¬</p>
<p>jmp short, jmp near, jmp far</p>
<p><a class="glightbox" href="../assets/note/image-20241101120336621.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241101120336621" src="../assets/note/image-20241101120336621.png" /></a></p>
<p>jmp with register operandï¼Œå¯„å­˜å™¨ç›´æ¥æ‹·è´åˆ° ipï¼Œç»å¯¹è·³è½¬</p>
<p>jmp table[si] è·³è¡¨</p>
<p>æ¡ä»¶è·³è½¬:</p>
<p><a class="glightbox" href="../assets/note/image-20241101122014496.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241101122014496" src="../assets/note/image-20241101122014496.png" /></a></p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nf">test</span><span class="w"> </span><span class="no">word</span><span class="w"> </span><span class="no">ptr</span><span class="p">[</span><span class="no">esi</span><span class="p">],</span><span class="w"> </span><span class="mi">8000</span><span class="no">h</span><span class="w"> </span><span class="c1">; ä¸ç¬¦å·ä½åš test</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nf">pushf</span><span class="w"> </span><span class="c1">; ä¿æŠ¤ flags</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="nf">add</span><span class="w"> </span><span class="no">esi</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="nf">popf</span>
</span></code></pre></div>
<p>è·¨æƒé™æ§åˆ¶æµè½¬æ¢</p>
<ul>
<li>conforming code segmentvè®¾ç½®ä¸ºä¸€è‡´æ€§ä»£ç æ®µï¼Œå¯ä»¥å…è®¸ä½æƒé™çš„ä»£ç æ¥è°ƒç”¨ï¼Œç”¨äºå…±äº«åº“</li>
<li>é—¨æè¿°ç¬¦</li>
<li>å¿«é€Ÿç³»ç»Ÿè°ƒç”¨</li>
</ul>
<p>ä¸­æ–­å’Œå¼‚å¸¸:</p>
<ul>
<li>ä¸­æ–­: å¤–éƒ¨ä¸­æ–­: å¼‚æ­¥ï¼Œè½¯ä¸­æ–­: åŒæ­¥ã€‚ ç‰¹ç‚¹: <strong>ä¸»åŠ¨</strong>è¯·æ±‚ os æœåŠ¡</li>
<li>å¼‚å¸¸: cpu è¿è¡Œæ—¶å‘ç°å¼‚å¸¸è®© os å¤„ç†</li>
</ul>
<p>å¼‚å¸¸çš„æ¥æº:</p>
<ul>
<li>Program-Error Exception: æ¯”å¦‚é™¤ä»¥é›¶</li>
<li>Software-Generated Exceptions: into (overflow), int1, int3 (software break-point)</li>
<li>Machine-Check Exceptions: æœºå™¨è‡ªæ£€å¼‚å¸¸ï¼Œæ¯”å¦‚è·‘ç€è·‘ç€æ‹”æ‰å†…å­˜</li>
</ul>
<p>å¼‚å¸¸çš„ç§ç±»:</p>
<ul>
<li>ç²¾ç¡®å¼‚å¸¸: </li>
<li>å‘ç”Ÿå¼‚å¸¸çš„ä½ç½®å®šä½æ˜¯å‡†ç¡®çš„ï¼Œæ‰€ä»¥ç³»ç»Ÿå¤„ç†å®Œå¯ä»¥ç»§ç»­åœ¨æ–­ç‚¹æ‰§è¡Œä¸‹å»çš„ (can be restarted)</li>
<li>æ¯”å¦‚ Page Fault ä¹‹åï¼Œé¡µé¢è½½å…¥å†…å­˜ï¼Œå¯ä»¥ä»æ–­ç‚¹ç»§ç»­æ‰§è¡Œ</li>
<li>éç²¾ç¡®å¼‚å¸¸: </li>
<li>å¼‚å¸¸çš„ä½ç½®æ˜¯ä¸å‡†ç¡®çš„</li>
<li>not restartable</li>
</ul>
<p>å¦ä¸€ç§åˆ†ç±»:</p>
<p><a class="glightbox" href="../assets/note/image-20241115101320311.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241115101320311" src="../assets/note/image-20241115101320311.png" /></a></p>
<p>ä¸­æ–­å…¥å£:</p>
<ul>
<li>å®æ¨¡å¼: ä¸­æ–­å‘é‡è¡¨ï¼Œå‘é‡å·:</li>
<li>å‘é‡å·ä¸º 2 çš„æ˜¯ä¸å¯å±è”½ä¸­æ–­</li>
</ul>
<p><a class="glightbox" href="../assets/note/image-20241115101658545.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241115101658545" src="../assets/note/image-20241115101658545.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241115101706834.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241115101706834" src="../assets/note/image-20241115101706834.png" /></a></p>
<p>ç”¨æˆ·åªèƒ½è‡ªå®šä¹‰ä¸­æ–­ï¼Œä¸”å‘é‡å·åœ¨ 32-25</p>
<ul>
<li>Double Fault Exception: åœ¨å¤„ç†å¼‚å¸¸çš„è¿‡ç¨‹ä¸­åˆå‡ºç°äº†å¼‚å¸¸</li>
<li>æ¯”å¦‚å¤„ç† Page Fault çš„æ—¶å€™ï¼Œå¦‚æœæ²¡å†™ç¼ºé¡µå¼‚å¸¸çš„å¤„ç†ä»£ç ï¼Œå°±ä¼šå†æŠ¥å‡ºä¸€ä¸ªå¼‚å¸¸</li>
<li>å¹¶ä¸æ˜¯æ‰€æœ‰çš„åµŒå¥—å¼‚å¸¸éƒ½æ˜¯ Double Fault Exception<ul>
<li>å¿…é¡»æ»¡è¶³æŸç§ç»„åˆ</li>
<li><a class="glightbox" href="../assets/note/image-20241115102408447.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241115102408447" src="../assets/note/image-20241115102408447.png" /></a></li>
</ul>
</li>
<li>
<p>åŒæ•…éšœå¼‚å¸¸å¿…é¡»è¦ç‰¹åˆ«å°å¿ƒåœ°å¤„ç†ï¼Œä¸èƒ½å†å‡ºç°å¼‚å¸¸</p>
<ul>
<li>å¦‚æœè§¦å‘ä¸‰æ•…éšœå¼‚å¸¸ï¼Œç³»ç»Ÿå°±ä¼šç«‹åˆ»é‡å¯</li>
</ul>
</li>
<li>
<p>ä¿æŠ¤æ¨¡å¼: IDT</p>
</li>
</ul>
<p>å¼‚å¸¸çš„é”™è¯¯ç : é€‰æ‹©å€¼ç±»ï¼Œä»¥åŠ Page Fault é”™è¯¯ç </p>
<p><a class="glightbox" href="../assets/note/image-20241115102906575.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241115102906575" src="../assets/note/image-20241115102906575.png" /></a></p>
<ul>
<li>Page Fault æœ‰ä¸¤ç§: çœŸçš„ç¼ºé¡µï¼Œè¿˜æœ‰è®¿é—®æƒé™ä¸å¤Ÿ</li>
<li>cr2 å­˜å‚¨å‘ç”Ÿ Page Fault çš„è™šæ‹Ÿåœ°å€</li>
</ul>
<p>ä¸­æ–­/å¼‚å¸¸çš„ä¼˜å…ˆçº§åˆ†çº§ï¼Œä¼˜å…ˆçº§é«˜çš„å¯ä»¥æ‰“æ–­å…¶ä»–ä½ä¼˜å…ˆçº§ä¸­æ–­çš„å¤„ç†è¿‡ç¨‹:</p>
<p><a class="glightbox" href="../assets/note/image-20241115103318941.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241115103318941" src="../assets/note/image-20241115103318941.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241115103325169.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241115103325169" src="../assets/note/image-20241115103325169.png" /></a></p>
<ul>
<li>ç›¸åŒä¼˜å…ˆçº§çš„å¼‚å¸¸æ¥çš„æ—¶å€™ï¼Œæ˜¯åµŒå¥—è¿˜æ˜¯æ’é˜Ÿï¼Œå–å†³äºæœºå™¨çš„å®ç°</li>
</ul>
<p>å®æ¨¡å¼çš„ä¸­æ–­å‘é‡è¡¨æŸ¥è¯¢ï¼š</p>
<p><a class="glightbox" href="../assets/note/image-20241115103913774.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241115103913774" src="../assets/note/image-20241115103913774.png" /></a></p>
<p>å®æ¨¡å¼è¿›å…¥ä¸­æ–­æœåŠ¡å‡½æ•°å‰å‘æ ˆå‹å…¥ flags, cs, ip:</p>
<p><a class="glightbox" href="../assets/note/image-20241115104149625.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241115104149625" src="../assets/note/image-20241115104149625.png" /></a></p>
<p>å›å»çš„æ—¶å€™è¦ iretï¼Œ32ä½æ¨¡å¼è¦ iretd</p>
<p>æ§åˆ¶æŒ‡ä»¤: </p>
<p>carry flag stc, clc, cmc (complement carry flag)</p>
<p>HLT: åœæœºæŒ‡ä»¤ï¼Œç³»ç»Ÿå¤„äºçƒ­ç­‰å¾…çŠ¶æ€ï¼Œéœ€è¦ä¸‹é¢çš„æ¡ä»¶æ¥æ¿€æ´»:</p>
<ul>
<li>NMI, SMI ä¸å¯å±è”½ä¸­æ–­ï¼Œç³»ç»Ÿä¸­æ–­</li>
<li>debug exception</li>
<li>hardware resetï¼ŒBINIT#, INIT#, RESET#</li>
</ul>
<p>å¤šå­—èŠ‚ NOP: æœ€å¤šå¯ä»¥åäº”å­—èŠ‚</p>
<p><a class="glightbox" href="../assets/note/image-20241115111115523.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241115111115523" src="../assets/note/image-20241115111115523.png" /></a></p>
<p>å¤šå­—èŠ‚ nop çš„æ„ä¹‰: å¸Œæœ›ä»£ç å¯¹é½ï¼Œç”¨æ¥åšå¡«å……æŒ‡ä»¤</p>
<p>ä¸€æ¡åäº”å­—èŠ‚ nop å’Œä¸€æ¡å•å­—èŠ‚ nop å·®ä¸å¤šï¼Œä½†è¿œæ¯” 15 ä¸ªå•å­—èŠ‚ nop å¥½</p>
<p>Lock: </p>
<p><a class="glightbox" href="../assets/note/image-20241115111946863.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241115111946863" src="../assets/note/image-20241115111946863.png" /></a></p>
<ul>
<li>ç”¨äºâ€œè¯», ä¿®æ”¹, å†™å›â€çš„æŒ‡ä»¤å˜æˆåŸå­æŒ‡ä»¤</li>
</ul>
<p>bound æ£€æµ‹æ˜¯å¦åœ¨ä¸¤ä¸ªèŒƒå›´ä¹‹é—´</p>
<p>æ¥å£éƒ¨åˆ†</p>
<p>Min Mode å’Œ Max Mode</p>
<p><a class="glightbox" href="../assets/note/image-20241122100246153.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122100246153" src="../assets/note/image-20241122100246153.png" /></a></p>
<p>minimum mode: ç›´æ¥å‘é€æ§åˆ¶ä¿¡å·ï¼Œæœ‰å®Œå…¨çš„ç®¡ç†æƒé™</p>
<p><a class="glightbox" href="../assets/note/image-20241122100401536.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122100401536" src="../assets/note/image-20241122100401536.png" /></a></p>
<p>maximum mode: å‘é€è¯·æ±‚ï¼Œç­‰å¾…æ€»çº¿èŠ¯ç‰‡ ï¼ˆ8288ï¼‰ ä»²è£</p>
<p><a class="glightbox" href="../assets/note/image-20241122100423970.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122100423970" src="../assets/note/image-20241122100423970.png" /></a></p>
<p>BHE: Bus High Enable æŒ‡ç¤ºæ€»çº¿é«˜å…«ä½æ•°æ®æœ‰æ•ˆ</p>
<p>DRAM:</p>
<p><a class="glightbox" href="../assets/note/image-20241122101329867.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122101329867" src="../assets/note/image-20241122101329867.png" /></a></p>
<p>Channel -&gt; DIMM -&gt; Rank -&gt; Chip -&gt; Bank -&gt; Row / Column åˆ°è¾¾å• bit</p>
<p>8086 çš„ bank ä»¥ 1 å­—èŠ‚ä¸ºå®½åº¦æ¥ç»„ç»‡å†…å­˜</p>
<p><a class="glightbox" href="../assets/note/image-20241122101610894.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122101610894" src="../assets/note/image-20241122101610894.png" /></a></p>
<p>å•å­—èŠ‚ &amp; å¶åœ°å€: <span class="arithmatex">\(D_7-D_0\)</span></p>
<p>å•å­—èŠ‚ &amp; å¥‡åœ°å€ <span class="arithmatex">\(D_{15}-D_8\)</span> </p>
<p>åŒå­—èŠ‚: <span class="arithmatex">\(D_{15}-D_0\)</span></p>
<p>ä¸‰ç§çŠ¶æ€ï¼Œéœ€è¦ä¸¤ä½ä¿¡å·æ¥æ§åˆ¶ï¼Œå°±æ˜¯: <span class="arithmatex">\(A_0\)</span> (BLE) å’Œ BHE ä¿¡å·</p>
<p><a class="glightbox" href="../assets/note/image-20241122102225493.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122102225493" src="../assets/note/image-20241122102225493.png" /></a></p>
<p>æœªå¯¹é½åœ°å€çš„è®¿å­˜éœ€è¦æ‹†æˆä¸¤ä¸ªå‘¨æœŸ</p>
<p><a class="glightbox" href="../assets/note/image-20241122103048712.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122103048712" src="../assets/note/image-20241122103048712.png" /></a></p>
<p>ç¡¬ä»¶æ¥å£éœ€è¦è§£å†³çš„ 6 ä¸ªé—®é¢˜:</p>
<p><a class="glightbox" href="../assets/note/image-20241122103608918.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122103608918" src="../assets/note/image-20241122103608918.png" /></a></p>
<ol>
<li>é«˜ä½ç”µå¹³çš„é€»è¾‘åŒ¹é…</li>
<li>å¢å¼ºä¿¡å·ï¼ˆç”µæµï¼‰</li>
<li>åŒ¹é…é€Ÿåº¦: ç¼“å†² / é”å­˜</li>
<li>åŒ¹é…æ—¶åº</li>
<li>æ€»çº¿éš”ç¦»</li>
<li>
<p>åŒ¹é…æ ¼å¼</p>
</li>
<li>
<p>è¾“å…¥/è¾“å‡º: è¾“å…¥è¾“å‡ºéƒ½ä»¥ CPU çš„è§†è§’æ¥çœ‹ï¼Œè¾“å…¥è®¾å¤‡è¿æ¥è¾“å…¥æ¥å£ï¼Œ...</p>
</li>
<li>
<p>ä¿¡å·ç±»å‹: æ•°å­—ä¿¡å·ã€æ¨¡æ‹Ÿä¿¡å·</p>
</li>
<li>ä¼ è¾“ç±»å‹: ä¸²è¡Œä¼ è¾“ã€å¹¶è¡Œä¼ è¾“</li>
<li>å¹¶è¡Œä¼ è¾“ä¸ä¸€å®šæ¯”ä¸²è¡Œå¿«ï¼Œå¹¶è¡Œä¿¡å·æœ‰ä¸²æ‰°ï¼Œé¢‘ç‡ä¸èƒ½å¤ªé«˜</li>
</ol>
<p>å…¸å‹çš„ I/O æ¥å£ï¼ˆç²‰è‰²ï¼‰ç”±å››éƒ¨åˆ†æ„æˆ:</p>
<ul>
<li>è¯»å†™æ§åˆ¶é€»è¾‘</li>
<li>ç«¯å£å¯„å­˜å™¨</li>
<li>æ€»çº¿ buffer</li>
<li>æ§åˆ¶å’ŒçŠ¶æ€å¯„å­˜å™¨</li>
</ul>
<p><a class="glightbox" href="../assets/note/image-20241122104021532.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122104021532" src="../assets/note/image-20241122104021532.png" /></a></p>
<p>æ¥å£éœ€è¦è¿›è¡Œç¼“å­˜</p>
<p>ä¸è®¾å¤‡çš„åŒæ­¥:</p>
<ul>
<li>Always-on Devices: æ— æ¡ä»¶ä¼ è¾“ï¼Œä¸éœ€è¦æ²Ÿé€šï¼Œæ¯”å¦‚å¼€ç¯ï¼Œç›´æ¥ä¼ è¾“å°±å¥½</li>
<li>Strobing é€‰é€šä¿¡å·ï¼Œåªæœ‰å•å‘å‘é€çš„ä¿¡å·ï¼Œæ²¡æœ‰å›åº”ä¿¡å·</li>
<li>åŒå‘çš„:</li>
<li>Handshaking, Polling</li>
<li>Interrupt-driven I/O</li>
<li>Channel-based I/O (DMA)</li>
</ul>
<p>I/O åœ°å€ç¼–ç æœ‰ä¸¤ç§:</p>
<ul>
<li>ç‹¬ç«‹ I/O ç¼–ç : ç”¨é¢å¤–çš„æŒ‡ä»¤å¤„ç† I/O è®¿é—®: x86 çš„ in å’Œ out</li>
<li>å†…å­˜æ˜ å°„: è¯»å†™å¤–éƒ¨è®¾å¤‡å’Œè¯»å†™å†…å­˜çš„æ–¹å¼ä¸€æ ·</li>
</ul>
<p><a class="glightbox" href="../assets/note/image-20241122110312732.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122110312732" src="../assets/note/image-20241122110312732.png" /></a></p>
<p>000-3FF ç”±ç³»ç»Ÿå®šä¹‰</p>
<p>400-FFFF å¯ç”±ç”¨æˆ·è‡ªå®šä¹‰</p>
<p>é€»è¾‘èŠ¯ç‰‡çš„åˆ†ç±»: TTL &amp; CMOS</p>
<p><a class="glightbox" href="../assets/note/image-20241122110556978.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122110556978" src="../assets/note/image-20241122110556978.png" /></a></p>
<ul>
<li>TTL é€»è¾‘: ä¸‰æç®¡</li>
<li>(æ›¾ç») é€Ÿåº¦å¿«ï¼Œé©±åŠ¨ç”µæµå¤§</li>
<li>æ¶ˆè€—èƒ½é‡é«˜</li>
<li>CMOS é€»è¾‘: åœºæ•ˆåº”ç®¡</li>
</ul>
<p>TTL</p>
<p>æœ€ä¸»è¦å·¥ä½œç”µå‹ 5V</p>
<p>è¾“å…¥è¾“å‡ºçš„æ ‡å‡†éå¯¹ç§°ï¼šå®½è¿›ä¸¥å‡º</p>
<p><a class="glightbox" href="../assets/note/image-20241122110800216.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122110800216" src="../assets/note/image-20241122110800216.png" /></a></p>
<p>CMOS</p>
<p>å·¥ä½œç”µå‹æœ‰å¾ˆå¤šç§:5V, 3.3V, 1.8V</p>
<p><a class="glightbox" href="../assets/note/image-20241122110950982.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122110950982" src="../assets/note/image-20241122110950982.png" /></a></p>
<p>è¦è€ƒè™‘ä¸¤ä¸ªå™¨ä»¶è¾“å‡ºå’Œè¾“å…¥çš„è¦æ±‚ï¼ˆ0 å’Œ 1 ä¼ è¿‡å»ä»ç„¶åº”è¯¥è®¤ä¸ºæ˜¯ 0 å’Œ 1ï¼‰ï¼Œç”µå‹è¦åŒ¹é…</p>
<p><a class="glightbox" href="../assets/note/image-20241122111204396.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122111204396" src="../assets/note/image-20241122111204396.png" /></a></p>
<p>ç¬¬ä¸€ç§ç±»å‹éœ€è¦ä¸Šæ‹‰ç”µé˜»</p>
<p>æœºæ¢°å¼€å…³è§¦ç‚¹æ¥è§¦ä¸ç¨³å®šï¼Œå­˜åœ¨â€œæŠ–åŠ¨â€é—®é¢˜:</p>
<p><a class="glightbox" href="../assets/note/image-20241122112203607.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122112203607" src="../assets/note/image-20241122112203607.png" /></a></p>
<p>å»æŠ–åŠ¨çš„æ–¹å¼:</p>
<ul>
<li>è½¯ä»¶: å¤šæ¬¡é‡‡æ ·ï¼Œç¨³å®šåæ‰è®¤ä¸ºå˜åŒ–</li>
<li>ç¡¬ä»¶:</li>
<li>è§£å†³æ–¹æ³•1: é—®é¢˜åœ¨äºä¹‹å‰æ˜¯åŒè§¦å‘ï¼Œéœ€è¦åšæˆå•è§¦å‘ï¼Œä¸€æ¥è§¦åˆ°å°±ç›´æ¥å˜ï¼Œä¸ä¼šæŠ–åŠ¨</li>
<li><a class="glightbox" href="../assets/note/image-20241122112411252.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122112411252" src="../assets/note/image-20241122112411252.png" /></a></li>
<li>è§£å†³æ–¹æ³• 2:<a class="glightbox" href="../assets/note/image-20241122112752631.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122112752631" src="../assets/note/image-20241122112752631.png" /></a></li>
<li>è§£å†³æ–¹æ³• 3ï¼šå¤šæ¬¡é‡‡æ ·ï¼ŒåŒ¹é…</li>
<li><a class="glightbox" href="../assets/note/image-20241122112829086.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122112829086" src="../assets/note/image-20241122112829086.png" /></a></li>
</ul>
<p>è¾“å‡ºç”µæµçš„åŒ¹é…: åŠ é©±åŠ¨ç”µè·¯</p>
<p>é©±åŠ¨ LED: 10 mA</p>
<p>ç”¨æ™¶ä½“ç®¡å¯ä»¥æ”¾å¤§ç”µæµï¼Œè¦è®¡ç®—ç”µé˜»å¤§å°ç¡®ä¿åŒ¹é…</p>
<p>LED æœ‰å‹é™ï¼ˆ-2Vï¼‰</p>
<p><a class="glightbox" href="../assets/note/image-20241122113352694.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122113352694" src="../assets/note/image-20241122113352694.png" /></a></p>
<p>é©±åŠ¨æ›´å¤§çš„è®¾å¤‡: 1A çš„ç›´æµç”µæœº</p>
<p>Darlington-pair: æ™¶ä½“ç®¡ä¸²è”çº§è”æ”¾å¤§</p>
<p><a class="glightbox" href="../assets/note/image-20241122114329311.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122114329311" src="../assets/note/image-20241122114329311.png" /></a></p>
<p>ç”µåŠ¨æœºæ˜¯ç”µæ„Ÿï¼Œå…³é—­çš„æ—¶å€™ä¼šäº§ç”Ÿåå‘ç”µåŠ¨åŠ¿ï¼Œéœ€è¦åŠ ä¸€ä¸ªæ”¾ç”µå›è·¯ï¼ˆç¨³å‹äºŒæç®¡ï¼‰ï¼Œå¦åˆ™ç«‹åˆ»æŠŠè¾¾çµé¡¿å‡»ç©¿äº†</p>
<p>8ä½å¼€å…³:</p>
<p><a class="glightbox" href="../assets/note/image-20241122115552904.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122115552904" src="../assets/note/image-20241122115552904.png" /></a></p>
<p>8ä¸ª LED è¾“å‡º: å…±é˜³æï¼Œå¯¹åº”ä½å˜ 0 å°±ç‚¹äº®</p>
<p><a class="glightbox" href="../assets/note/image-20241122115714310.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122115714310" src="../assets/note/image-20241122115714310.png" /></a></p>
<p>Strobing é€‰é€šæ—¶åº</p>
<ol>
<li>æºä¸»åŠ¨é€‰é€šï¼Œæ•°æ®å…ˆæ”¾åˆ°æ€»çº¿ä¸Šï¼Œå‘é€é€‰é€šä¿¡å·ï¼Œå‘é€ä¹‹åå†å»¶ç»­ä¸€æ®µæ—¶é—´ï¼Œç»™ç›®çš„å•å…ƒè¯»å–çš„æ—¶é—´</li>
</ol>
<p><a class="glightbox" href="../assets/note/image-20241122120147289-1732248138526-1.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122120147289" src="../assets/note/image-20241122120147289-1732248138526-1.png" /></a></p>
<ol>
<li>ç›®çš„ä¸»åŠ¨é€‰é€š:</li>
</ol>
<p>ç›®çš„æ‹‰é«˜é€‰é€šä¿¡å·ï¼ŒæºæŠŠæ•°æ®æ”¾åˆ°ä¿¡å·ä¸Šï¼Œç›®çš„å…³é—­é€‰é€šä¿¡å·ï¼ŒæºæŠŠä¿¡å·ä»æ€»çº¿æ‹¿èµ°</p>
<p><a class="glightbox" href="../assets/note/image-20241122120213312.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122120213312" src="../assets/note/image-20241122120213312.png" /></a></p>
<p>Handshaking æ¡æ‰‹æ—¶åº</p>
<ol>
<li>Source-initiated</li>
</ol>
<p><a class="glightbox" href="../assets/note/image-20241122120601107.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122120601107" src="../assets/note/image-20241122120601107.png" /></a></p>
<ol>
<li>Destination-initiated</li>
</ol>
<p><a class="glightbox" href="../assets/note/image-20241122120645806.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122120645806" src="../assets/note/image-20241122120645806.png" /></a></p>
<p>I/O ç«¯å£åœ°å€è¯‘ç </p>
<p><a class="glightbox" href="../assets/note/image-20241122121341299.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241122121341299" src="../assets/note/image-20241122121341299.png" /></a></p>
<p>å¯¹åœ°å€è¿›è¡Œè¯‘ç ï¼Œé«˜ 5 ä½è´Ÿè´£é€‰ä¸­æŸä¸ª decoder ï¼ˆæ¯”å¦‚å›¾ä¸Šçš„decoderåªæœ‰åœ¨é«˜åœ°å€ 10000 æ‰ä½¿èƒ½ï¼‰ï¼Œä½ 3 ä½åœ°å€ä½¿èƒ½ 3-8 decoder</p>
<p>IO/M ä¿¡å·æŒ‡ç¤ºå½“å‰çš„åœ°å€æ˜¯ I/O è¿˜æ˜¯å†…å­˜åœ°å€</p>
<p>å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå¯¹äº F0h-F7h:</p>
<p><a class="glightbox" href="../assets/note/image-20241129100856221.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129100856221" src="../assets/note/image-20241129100856221.png" /></a></p>
<p>16 ä½ç«¯å£åœ°å€ EFF8h-EFFFhï¼Œç”¨ä¸€ä¸ªå¯ç¼–ç¨‹é€»è¾‘å™¨ä»¶ (PLD) æ¥è¯‘ç </p>
<p><a class="glightbox" href="../assets/note/image-20241129101100232.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129101100232" src="../assets/note/image-20241129101100232.png" /></a></p>
<p>è¾“å‡º 8 ä½: å¶åœ°å€ï¼Œå¥‡åœ°å€ â€”â€” è¦æ§åˆ¶ BHE å’Œ BLE</p>
<p><a class="glightbox" href="../assets/note/image-20241129102011672.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129102011672" src="../assets/note/image-20241129102011672.png" /></a></p>
<p>å¦‚æœè¾“å‡ºä¹Ÿæ˜¯ 16 ä½ï¼Œè¯‘ç å°±ç›¸å¯¹ç®€å•ï¼Œå› ä¸ºæ­¤æ—¶å†…å­˜åœ°å€å¿…é¡»åŒå­—èŠ‚å¯¹é½</p>
<p><a class="glightbox" href="../assets/note/image-20241129102622710.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129102622710" src="../assets/note/image-20241129102622710.png" /></a></p>
<p>æ•°æ®å®½åº¦32 ä½æ—¶:</p>
<p><a class="glightbox" href="../assets/note/image-20241129102919607.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129102919607" src="../assets/note/image-20241129102919607.png" /></a></p>
<p><strong>æ¥å£èŠ¯ç‰‡</strong></p>
<ol>
<li>82C55ï¼šå¯ç¼–ç¨‹å¹¶è¡Œæ¥å£ ï¼ˆ8255 + C ä»£è¡¨ä½åŠŸè€—çš„ CMOSï¼‰</li>
</ol>
<p>ç«¯å£åœ°å€ä¸æ•°æ®å®½åº¦å‡æ˜¯å…«ä½çš„</p>
<p><a class="glightbox" href="../assets/note/image-20241129103525981.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129103525981" src="../assets/note/image-20241129103525981.png" /></a></p>
<p>A[7:0] ä¸ C[7:4] æ„æˆäº† A æ§åˆ¶ç»„ï¼ŒB[7:0] ä¸ C[3:0] æ„æˆ B æ§åˆ¶ç»„</p>
<p>C è¢«åˆ†æˆä¸¤éƒ¨åˆ†ç”¨æ¥é…åˆä¿¡å·çº¿ A å’Œ B åšæ¡æ‰‹ä¿¡å·</p>
<p><a class="glightbox" href="../assets/note/image-20241129103650639.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129103650639" src="../assets/note/image-20241129103650639.png" /></a></p>
<ul>
<li>
<p>A0, A1 é€‰æ‹©å¯¹å“ªä¸ªç«¯å£è¿›è¡Œæ“ä½œ</p>
</li>
<li>
<p>CSï¼š Chip Select ä½ä½¿èƒ½è¿™ä¸ªèŠ¯ç‰‡</p>
</li>
</ul>
<p>æ§åˆ¶ä¿¡å·ä¸æ•°æ®æµå‘</p>
<p><a class="glightbox" href="../assets/note/image-20241129104202828.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129104202828" src="../assets/note/image-20241129104202828.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241129104129700.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129104129700" src="../assets/note/image-20241129104129700.png" /></a></p>
<p>Aå’ŒBç«¯å£ä¸­ï¼ŒAæ›´å¼ºå¤§:</p>
<p>Aæœ‰ç‹¬å çš„è¾“å…¥ latchï¼Œè¾“å‡º latch/buffer</p>
<p>B åªæœ‰è¾“å…¥ buffer å’Œå…±äº«çš„è¾“å…¥è¾“å‡º latch/buffer</p>
<p><a class="glightbox" href="../assets/note/image-20241129105157789.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129105157789" src="../assets/note/image-20241129105157789.png" /></a></p>
<p>Mode 0: æ— æ¡æ‰‹ä¿¡å·ï¼ŒåŸºæœ¬çš„è¾“å…¥è¾“å‡º</p>
<p>Mode 1: é€‰é€šå¼æ¡æ‰‹</p>
<p>Mode 2: åŒå‘æ€»çº¿æ“ä½œï¼Œå¯åœ¨ä¸åŒæ—¶é—´åšè¾“å…¥è¾“å‡ºï¼ˆè€Œå‰é¢çš„è¾“å…¥è¾“å‡ºæ˜¯ç¡®å®šçš„ï¼‰ï¼Œä»…é€‚ç”¨äºæ§åˆ¶ç»„ A</p>
<p><a class="glightbox" href="../assets/note/image-20241129110048988.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129110048988" src="../assets/note/image-20241129110048988.png" /></a></p>
<p>Mode 0 é€‚åˆ Always On æ²¡æœ‰æ—¶åºé€»è¾‘çš„è®¾å¤‡ï¼Œæ¯”å¦‚ LED ç¯</p>
<p>Mode 1 é€‚åˆé€‰é€š</p>
<p>Mode 2 æ­¤æ—¶ C ç«¯å£æœ‰äº”æ¡çº¿å¯ä»¥é…åˆ Mode 2 çš„ A ç«¯å£ï¼ŒåŒå‘å„ä¸¤æ¡ï¼Œå†æ¥ä¸€æ¡ä¸­æ–­çº¿</p>
<p>82C55 æ¥åˆ° 80386SX ä¸Šæ—¶:</p>
<p><a class="glightbox" href="../assets/note/image-20241129110525643.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129110525643" src="../assets/note/image-20241129110525643.png" /></a></p>
<p>ä¸ºä»€ä¹ˆä½¿ç”¨ C0, C2, C4, C6 è€Œä¸æ˜¯ C0, C1, C2, C3: ä¸ºäº†è®©ç«¯å£éƒ½åœ¨å¶åœ°å€ä¸Šï¼Œé¿å…åœ¨è¯‘ç çš„æ—¶å€™è¿˜éœ€è¦å¼•å…¥ç±»ä¼¼ BHE çš„ä¿¡å·</p>
<p><a class="glightbox" href="../assets/note/image-20241129111438919.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129111438919" src="../assets/note/image-20241129111438919.png" /></a></p>
<p>1 = I = Input, 0 = O = Output</p>
<p><a class="glightbox" href="../assets/note/image-20241129111503609.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129111503609" src="../assets/note/image-20241129111503609.png" /></a></p>
<p>Mode 0 çš„æ“ä½œ:</p>
<p>æ—¶åºå›¾:</p>
<p>ä¸Šå‡æ²¿è§¦å‘ï¼Œè¾“å…¥å tRD ä¹‹åçš„æ‰æ˜¯æœ‰æ•ˆæ•°æ®</p>
<p><a class="glightbox" href="../assets/note/image-20241129111940445.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129111940445" src="../assets/note/image-20241129111940445.png" /></a></p>
<ul>
<li>è¾“å…¥</li>
<li>é¦–å…ˆç»™å‡ºç‰‡é€‰ CS å’Œç«¯å£åœ°å€ A1, A0</li>
<li>å…¶åè¾“å…¥æ•°æ®éœ€è¦ç»™å‡º</li>
<li>ç„¶å CPU å‘å‡º RD ä¿¡å·</li>
<li>éšåç«¯å£é”å­˜ä½çš„å¤–éƒ¨è¾“å…¥å°±å¯ä»¥è¯»åˆ° CPU çš„è¾“å…¥æ€»çº¿ä¸Šæ¥ D7-D0</li>
<li>è¾“å‡º</li>
<li>CS, A1, A0</li>
<li>CPU å°†å†™çš„æ•°æ®æ”¾åˆ°æ•°æ®æ€»çº¿ä¸Š</li>
<li>CPU å‘å‡ºå†™ä¿¡å·</li>
</ul>
<p>æ­¥è¿›ç”µæœº</p>
<p>æ¿€åŠ±æ–¹å¼: å…¨æ­¥ full-stepï¼ŒåŠæ­¥ half-stepï¼Œå¾®æ­¥ micro-step</p>
<p>ä¸€ç›¸å……ç”µå’Œä¸¤ç›¸å……ç”µ: 90Â°</p>
<p><a class="glightbox" href="../assets/note/image-20241129115910184.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129115910184" src="../assets/note/image-20241129115910184.png" /></a></p>
<p>åŠæ­¥: å•ç›¸å’Œä¸¤ç›¸æ­é… 45Â°</p>
<p><a class="glightbox" href="../assets/note/image-20241129120049614.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129120049614" src="../assets/note/image-20241129120049614.png" /></a></p>
<p>ä»£ç :</p>
<p><a class="glightbox" href="../assets/note/image-20241129120455530.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129120455530" src="../assets/note/image-20241129120455530.png" /></a></p>
<p>æœ€é«˜ä½æ˜¯ ready bit, ç³»ç»Ÿè‡ªåŠ¨è®¾ç½®</p>
<p>micro-step: ç²¾ç»†æ§åˆ¶æ¯ä¸ªçº¿åœˆçš„ç”µæµ</p>
<p><a class="glightbox" href="../assets/note/image-20241129120208767.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129120208767" src="../assets/note/image-20241129120208767.png" /></a></p>
<p>ç”¨åˆ°ä¸²è”çš„è¾¾çµé¡¿ç®¡å’ŒäºŒæç®¡</p>
<p><a class="glightbox" href="../assets/note/image-20241129120902198.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129120902198" src="../assets/note/image-20241129120902198.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241129121026561.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129121026561" src="../assets/note/image-20241129121026561.png" /></a></p>
<p>å¾®æ­¥: CX æœ€é«˜ä½ä»£è¡¨æ–¹å‘ï¼Œåé¢ 15 ä½è¡¨ç¤ºå¤šå°‘æ­¥</p>
<p><a class="glightbox" href="../assets/note/image-20241129121819150.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241129121819150" src="../assets/note/image-20241129121819150.png" /></a></p>
<p>Mode 1:</p>
<p>è¾“å…¥:</p>
<p><a class="glightbox" href="../assets/note/image-20241206021138178-1733422298525-1.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241206021138178" src="../assets/note/image-20241206021138178-1733422298525-1.png" /></a></p>
<p>IBF: Input buffer full</p>
<p>ç»ˆç«¯ä½¿èƒ½ INTEï¼š PC4 (Group A)ï¼Œ PC4(Group B)</p>
<p>æ¨¡å¼1çš„å·¥ä½œæ¨¡å¼å¯ä»¥ä»ç«¯å£Cè¯»å–:</p>
<p><a class="glightbox" href="../assets/note/image-20241206022244479.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241206022244479" src="../assets/note/image-20241206022244479.png" /></a></p>
<p>å¯ä»¥ä¸€ä¸ªå­—èŠ‚æ•´ä¸ªè¯»è¿›æ¥</p>
<p>æ¨¡å¼1 è¾“å…¥ä¾‹å­: é”®ç›˜</p>
<p>è¾“å‡º:</p>
<p>CPU ç»™ 82C55 è¾“å‡ºæ•°æ®ï¼Œç”± 82C55 é”å­˜</p>
<p>å½“ç¼“å†²åŒºæ…¢æ—¶ï¼ŒOBF å˜æˆä½ç”µå¹³é€šçŸ¥è®¾å¤‡æ¥è¯»</p>
<p>è®¾å¤‡å‘é€ ACKï¼Œéšå 82C55 å‘ CPU å‘é€ä¸­æ–­ä¿¡å·ï¼Œ</p>
<p>è®© CPU ç»§ç»­æ¥å†™</p>
<p><a class="glightbox" href="../assets/note/image-20241206023438792.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241206023438792" src="../assets/note/image-20241206023438792.png" /></a></p>
<p>æ¨¡å¼1è¾“å‡ºä¾‹å­: æ‰“å°æœº</p>
<p>ä¸²å£æ‰“å°æœº</p>
<p><a class="glightbox" href="../assets/note/image-20241206024214264.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241206024214264" src="../assets/note/image-20241206024214264.png" /></a></p>
<p>æ•…æ„ä¸ç”¨ PC1 è€Œæ˜¯ç”¨ PC4 äº§ç”Ÿ OBF ä¿¡å·ï¼Œæ˜¯ä¸ºäº†å±•ç¤º Command Word B çš„ç”¨æ³•</p>
<p>æ¨¡å¼2ï¼šåŒå‘æ“ä½œæ–¹å¼ï¼Œåªèƒ½ç»„A</p>
<p><a class="glightbox" href="../assets/note/image-20241206030327373.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241206030327373" src="../assets/note/image-20241206030327373.png" /></a></p>
<p>ä¸­æ–­çº¿å¤ç”¨ï¼Œå†å  OBF, ACK, STB, IBF, ä¸€å…±å  5 æ¡çº¿</p>
<p>æ­¤æ—¶ç»„ B æœ€å¤šåœ¨æ¨¡å¼ 1ï¼ŒæŠŠæ‰€æœ‰çº¿ç”¨æ»¡</p>
<p>æ—¶åºå›¾:</p>
<p><a class="glightbox" href="../assets/note/image-20241206030811496.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241206030811496" src="../assets/note/image-20241206030811496.png" /></a></p>
<p>æ€»çº¿æ˜¯ç«äº‰çš„:</p>
<p>è™½ç„¶ CPU å…ˆè®¾ç½®çš„ WR ä¿¡å·ä¸” 82C55 å·²ç» OBF äº†</p>
<p>ä½†æ˜¯æ­¤æ—¶å¤–éƒ¨è®¾å¤‡å·²ç»æŠŠç»™ CPU çš„æ•°æ®æ”¾åˆ°æ€»çº¿ä¸Šäº†ï¼Œæ‰€ä»¥ CPU åªèƒ½å…ˆè¯»èµ°</p>
<p>å› æ­¤ CPU çš„å†™æ•°æ®åªèƒ½åœ¨å…¶åé¢å†æ”¾åˆ°æ€»çº¿ä¸Š</p>
<p>ä¸­æ–­è¯·æ±‚ä¹Ÿæ˜¯ç«äº‰çš„:</p>
<p>CPU æ¥æ”¶åˆ°ä¸­æ–­æ—¶ï¼Œå¦‚ä½•çŸ¥é“æ˜¯è®©å®ƒå†™è¿˜æ˜¯è¯»?</p>
<p>CPU åªéœ€è¦è¯»å– C å£çš„ OBF å’Œ IBF çš„çŠ¶æ€å³å¯</p>
<p>è‹¥ OBF å’Œ IBF åŒæ—¶æœ‰æ•ˆï¼Œé‚£æ—¢è¦è¯»åˆè¦å†™</p>
<p>å¦‚æœåªè¦æœ‰ä¸€ä¸ªï¼Œé‚£å°±å“åº”é‚£ä¸ªå°±å¯ä»¥äº†</p>
<p>æ¨¡å¼2çš„ç¼–ç¨‹:</p>
<p><a class="glightbox" href="../assets/note/image-20241206032337359.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241206032337359" src="../assets/note/image-20241206032337359.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241206031954999.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241206031954999" src="../assets/note/image-20241206031954999.png" /></a></p>
<p>ç»„Aæ¨¡å¼2å’Œç»„Bæ¨¡å¼1åŒæ—¶ç”¨ï¼Œè¾¾åˆ°æ»¡è½½:</p>
<p><a class="glightbox" href="../assets/note/image-20241206032431235.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241206032431235" src="../assets/note/image-20241206032431235.png" /></a></p>
<p><strong>8254 å¯ç¼–ç¨‹å®šæ—¶å™¨</strong></p>
<p>æ§åˆ¶è®¾å¤‡ï¼Œå‘é€æ§åˆ¶ä¿¡å·</p>
<p>3 ä¸ªç‹¬ç«‹çš„ 16 ä½æ—¶é’Ÿè®¡æ•°å™¨ï¼Œæ—¢å¯ä»¥äºŒè¿›åˆ¶ï¼Œä¹Ÿå¯ä»¥ BCD</p>
<p><a class="glightbox" href="../assets/note/image-20241206033236172.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241206033236172" src="../assets/note/image-20241206033236172.png" /></a></p>
<p>Timer 0: ç»™ CPU å‘é€æ—¶é’Ÿä¸­æ–­ï¼Œæ¥åˆ° 8259 ä¸­æ–­æ§åˆ¶å™¨</p>
<p>Timer 1: DRAM å†…å­˜çš„ refresh æ—¶é’Ÿ</p>
<p>Timer 2: é©±åŠ¨å–‡å­</p>
<p><a class="glightbox" href="../assets/note/image-20241206034625320.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241206034625320" src="../assets/note/image-20241206034625320.png" /></a></p>
<p>CS: ç‰‡é€‰ä¿¡å·</p>
<p>A0, A1 æŒ‡å®šæŸä¸ªè®¡æ—¶å™¨</p>
<p>ä¸€ä¸ª counter çš„å†…éƒ¨ç»“æ„:</p>
<p>æ§åˆ¶å­—ä¸‰ä¸ªè®¡æ—¶å™¨å¤ç”¨</p>
<p>CR_M, CR_L: ä¸¤ä¸ª 8 ä½è®¡æ•°åˆå€¼</p>
<p>CE: 16 ä½å€’è®¡æ—¶è®¡æ•°</p>
<p>OL_M, OL_L: ä¸¤ä¸ª 8 ä½è¾“å‡º</p>
<p>8254 çš„å‘½ä»¤å­—:</p>
<p>SC1/SC0: 11 è¡¨ç¤ºå›è¯»ï¼Œè·å¾—è®¡æ•°å™¨çš„çŠ¶æ€</p>
<p>RW1/RW0: è¯»ä½ä½è®¡æ•°åˆå€¼ï¼Œè¯»é«˜ä½è®¡æ•°åˆå€¼ï¼Œè¿˜æœ‰ä¸¤ä¸ªéƒ½è¯»ï¼ˆä½ä½ LSB å…ˆå†™ï¼‰</p>
<p>M2/M1/M0: è®¡æ•°å™¨å·¥ä½œæ¨¡å¼</p>
<p>å‘½ä»¤å­—éœ€è¦å‘å‘½ä»¤ç«¯å£å†™ï¼Œåœ°å€ä¸º A1,A0 = 11</p>
<p><a class="glightbox" href="../assets/note/image-20241213100440872.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213100440872" src="../assets/note/image-20241213100440872.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241206115413460.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241206115413460" src="../assets/note/image-20241206115413460.png" /></a></p>
<p>è¯»å– 8254 çš„æ—¶åºå›¾:</p>
<p><a class="glightbox" href="../assets/note/image-20241206115111714.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241206115111714" src="../assets/note/image-20241206115111714.png" /></a></p>
<p>å†™å…¥ 8254 çš„æ—¶åºå›¾:</p>
<p><a class="glightbox" href="../assets/note/image-20241206115126242.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241206115126242" src="../assets/note/image-20241206115126242.png" /></a></p>
<p>8254 æ¯ä¸ªè®¡æ—¶å™¨éƒ½è¦è®¾ç½®ä¸€ä¸ªå‘½ä»¤å­—</p>
<p>å†™å…¥è®¡æ•°åˆå€¼ä¹‹åï¼Œåªè¦é—¨æ§ä¿¡å·æœ‰æ•ˆï¼Œå°±å¼€å§‹è®¡æ•°</p>
<p>åˆå§‹åŒ–: å…ˆä½å­—èŠ‚ï¼Œå†é«˜å­—èŠ‚</p>
<p>16ä½:</p>
<ul>
<li>äºŒè¿›åˆ¶ 0~FFFF</li>
<li>BCD: 0~9999</li>
<li>è®¡æ—¶å™¨æ˜¯å…ˆå‡å†åˆ¤æ–­ï¼Œå› æ­¤åˆå€¼è®¾ç½®ä¸º 0 å¯è¾¾æœ€å¤§è®¡æ•°æ¬¡æ•°</li>
</ul>
<p>Mode 0</p>
<p>Mode 1</p>
<p><a class="glightbox" href="../assets/note/image-20241220100905121.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220100905121" src="../assets/note/image-20241220100905121.png" /></a></p>
<p>é«˜ç”µå¹³é—¨æ§ä¿¡å·è¢«é‡‡æ ·åˆ°ï¼Œå†é‡æ–°è½½å…¥åˆå§‹å€¼</p>
<p>æœŸæœ«å¿…è€ƒ 2024.12.20 å¼€å¤´</p>
<p>Mode 2 - Rate Generator</p>
<p>OUT ç»å¤§å‘¨æœŸé«˜ç”µå¹³ï¼Œè®¡æ•°åˆ° 1 çš„æ—¶å€™æ‰å˜æˆ 0</p>
<p>é—¨æ§ä¿¡å·å½±å“è¾“å‡º:</p>
<p>é—¨æ§ä¿¡å· Gate = 0 (æ— æ•ˆ) ç«‹åˆ»å°† OUT å˜æˆé«˜ç”µå¹³</p>
<p>ç›´åˆ°ä¸‹ä¸€æ¬¡é—¨æ§ä¿¡å·æœ‰æ•ˆæ—¶ï¼Œé‡æ–°è£…å…¥åˆå§‹å€¼ï¼Œå†å¼€å§‹è®¡æ•°</p>
<p><a class="glightbox" href="../assets/note/image-20241213110537926.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213110537926" src="../assets/note/image-20241213110537926.png" /></a></p>
<p>é‡‡æ ·åˆ° GATE=0, ä¸‹é™æ²¿åœæ­¢è®¡æ•°</p>
<p>å½“ GATE=1 æ¢å¤æ—¶å€™ï¼Œé‡æ–°è¯»å…¥åˆå§‹å€¼ 03</p>
<p>Mode 3 - Square Wave Generator æ–¹æ³¢å‘ç”Ÿå™¨: å ç©ºæ¯” 50%</p>
<p>å¦‚æœè¾“å…¥æ—¶å¶æ•°: æ¯”å¦‚ 6, é‚£ä¹ˆ 3 æ‹é«˜ï¼Œ3 æ‹ä½, å ç©ºæ¯” 50%</p>
<p>å¦‚æœè¾“å…¥ä¸ºå¥‡æ•°: é«˜çš„å‘¨æœŸå¿…ä½çš„å‘¨æœŸå¤šä¸€ä¸ªï¼Œå ç©ºæ¯” <span class="arithmatex">\(\frac{n+1}{2n}\)</span></p>
<p><a class="glightbox" href="../assets/note/image-20241213110853833.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213110853833" src="../assets/note/image-20241213110853833.png" /></a></p>
<p>Mode 4 - è½¯ä»¶è§¦å‘é€‰é€šï¼Œå¯ä»¥ç±»æ¯”æ¨¡å¼ 0</p>
<p>åˆ°è¾¾ 0 çš„æ—¶å€™ï¼Œåªäº§ç”Ÿ 1 ä¸ªèŠ‚æ‹çš„ä½ç”µå¹³</p>
<p><a class="glightbox" href="../assets/note/image-20241213110949111.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213110949111" src="../assets/note/image-20241213110949111.png" /></a></p>
<p>ä¸‹é™æ²¿è£…å…¥ 03</p>
<p>Mode 5 - ç¡¬ä»¶è§¦å‘é€‰é€š</p>
<p>åªè¦é—¨æ§ä¿¡å·äº§ç”Ÿä¸Šå‡æ²¿å°±è§¦å‘è®¡æ•°ï¼Œå³ä½¿æ²¡æœ‰è¢«æ—¶é’Ÿä¿¡å·é‡‡æ ·åˆ°</p>
<p><a class="glightbox" href="../assets/note/image-20241213111238760.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213111238760" src="../assets/note/image-20241213111238760.png" /></a></p>
<p>8254 èŠ¯ç‰‡çš„ä½¿ç”¨</p>
<p>ä¾‹å­ 1: æ¥åˆ° 80386 è®¡ç®—æœºï¼Œç”¨ç¬¬ä¸€ä¸ªè®¡æ—¶å™¨äº§ç”Ÿ 100K æ–¹æ³¢ï¼Œç”¨ç¬¬äºŒä¸ªè®¡æ—¶å™¨äº§ç”Ÿ 200K è¿ç»­æ³¢</p>
<p>å¦‚æœå˜åŒ–çš„ä¸¤ä½æ”¾åˆ°æœ€ä½ä¸¤ä½çš„è¯ï¼Œä¼šéœ€è¦ç”¨æ€»çº¿é«˜ä¿¡å·æ¥åšç‰‡é€‰æ¯”è¾ƒéº»çƒ¦</p>
<p>æ—¶é’ŸèŠ‚æ‹ä¸º 8 Mhzï¼Œé—¨æ§æŒç»­ä½¿èƒ½ï¼Œæ¥åˆ°ä¸Šæ‹‰ç”µé˜»</p>
<p><a class="glightbox" href="../assets/note/image-20241213111510180.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213111510180" src="../assets/note/image-20241213111510180.png" /></a></p>
<p>è®¡æ•°åˆå€¼è®¡ç®—:</p>
<p>æ¨¡å¼ 2 å’Œ 3 éƒ½æ˜¯ N åˆ†é¢‘ï¼Œä¹Ÿå°±æ˜¯é¢‘ç‡å˜æˆ <span class="arithmatex">\(1/n\)</span>.</p>
<p><a class="glightbox" href="../assets/note/image-20241213111857562.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213111857562" src="../assets/note/image-20241213111857562.png" /></a></p>
<p>å¦‚æœè¦ 100 Hz æ–¹æ³¢æ€ä¹ˆåŠï¼Ÿ 8 Mhz / 100 Hz = 80000ï¼Œè€Œæœ€å¤šåªèƒ½è®¡æ•° 65536 æ€ä¹ˆåŠ</p>
<p>ä¸²è”åˆ†é¢‘ï¼ŒæŠŠç¬¬ä¸€çº§çš„ out æ¥åˆ°ç¬¬äºŒçº§çš„ clk</p>
<p>ä»£ç :</p>
<ul>
<li>100K æ–¹æ³¢ï¼Œéœ€è¦å·¥ä½œåœ¨æ¨¡å¼ 3</li>
</ul>
<p>å…ˆå†™å‘½ä»¤å­—ï¼Œå†å†™è®¡æ•°åˆå€¼ï¼Œå…ˆä½å­—èŠ‚å†é«˜å­—èŠ‚ï¼ˆä¸ºäº†å±•ç¤ºä¸¤å­—èŠ‚çš„å†™æ³•ï¼Œæ‰€ä»¥ RW1,RW0 è®¾ç½®æˆäº† 11ï¼‰</p>
<p>è€ƒè¯•è¦æ±‚è®°å¿†åœ°å€</p>
<p><a class="glightbox" href="../assets/note/image-20241213112123861.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213112123861" src="../assets/note/image-20241213112123861.png" /></a></p>
<ul>
<li>200K continuous pulseï¼Œéœ€è¦æ¨¡å¼ 2</li>
</ul>
<p>è¯»å–è®¡æ•°å™¨çš„å€¼</p>
<p><a class="glightbox" href="../assets/note/image-20241213113132315.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213113132315" src="../assets/note/image-20241213113132315.png" /></a></p>
<p>Simple Read:</p>
<p>æ¨èè®¾ç½®é—¨æ§ä¿¡å·è®©è®¡æ•°åœæ­¢ä¸€ä¸‹å†è¯»ï¼Œä½†ç›´æ¥ç¡¬è¯»ä¹Ÿä¸æ˜¯ä¸è¡Œï¼Œå°±æ˜¯ä¼šä¸å¤ªç¨³å®š</p>
<p>Counter Latch Command: è®¡æ—¶å™¨é”å­˜å‘½ä»¤</p>
<p>D5,D4=00 æŒ‡å®šè®¡æ•°å™¨é”å­˜æŒ‡ä»¤ï¼ŒSC1, SC0 è¡¨ç¤ºé”å­˜å“ªä¸ªè®¡æ•°å™¨çš„å€¼</p>
<p><a class="glightbox" href="../assets/note/image-20241213113304717.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213113304717" src="../assets/note/image-20241213113304717.png" /></a></p>
<p>æ³¨æ„è¯»å–çš„é¡ºåºå’Œå½“æ—¶è®¾ç½®è¿™ä¸ªå¯„å­˜å™¨çš„æ—¶å€™ï¼Œä½å­—èŠ‚ã€é«˜å­—èŠ‚çš„è®¾ç½®æ˜¯ä¸€è‡´çš„ï¼Œæ¯”å¦‚ä¸€å¼€å§‹æ˜¯ 11ï¼Œé‚£ä¹ˆè¯»çš„æ—¶å€™ä¹Ÿæ˜¯å…ˆè¯»ä½å­—èŠ‚å†è¯»é«˜å­—èŠ‚</p>
<p><a class="glightbox" href="../assets/note/image-20241213113340060.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213113340060" src="../assets/note/image-20241213113340060.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241213114422238.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213114422238" src="../assets/note/image-20241213114422238.png" /></a></p>
<p>å›è¯»å‘½ä»¤çš„æ ¼å¼:</p>
<p>å¯ä»¥è¯» count ä¹Ÿå¯ä»¥è¯»ç¼–ç¨‹æ¨¡å¼ï¼Œè¾“å‡ºçš„å¼•è„šæ˜¯é«˜ç”µå¹³è¿˜æ˜¯ä½ç”µå¹³ï¼ŒNull Count Flag: æ˜¯å¦è¢«åˆå§‹åŒ–è¿‡</p>
<p><a class="glightbox" href="../assets/note/image-20241213114750870.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213114750870" src="../assets/note/image-20241213114750870.png" /></a></p>
<p>Count æ˜¯ 0 ä»£è¡¨åƒè¯»è®¡æ•°å€¼</p>
<p>Status æ˜¯ 0 ä»£è¡¨è¯»å–çŠ¶æ€: ç¼–ç¨‹æ¨¡å¼ï¼ŒOUTï¼Œ Null Count Flag</p>
<p><a class="glightbox" href="../assets/note/image-20241213115235485.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213115235485" src="../assets/note/image-20241213115235485.png" /></a></p>
<p>æœ€é«˜ä¸¤ä½å¿…é¡»æ˜¯ 11ï¼Œ æœ€ä½å¿…é¡»æ˜¯ 0</p>
<p>PWM é©±åŠ¨ç”µæœº</p>
<p>H-æ¡¥</p>
<p><a class="glightbox" href="../assets/note/image-20241213120047736.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213120047736" src="../assets/note/image-20241213120047736.png" /></a></p>
<p>ä¸ä»…å¯ä»¥æ§åˆ¶é€Ÿåº¦ï¼Œè¿˜å¯ä»¥æ§åˆ¶æ–¹å‘</p>
<p><a class="glightbox" href="../assets/note/image-20241213120426469.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213120426469" src="../assets/note/image-20241213120426469.png" /></a></p>
<p>50% å ç©ºæ¯”æ˜¯åœæ­¢ï¼Œå˜ä½å’Œå˜é«˜éƒ½ä¼šå¼€å§‹è½¬ï¼Œæ–¹å‘ç›¸å</p>
<p><a class="glightbox" href="../assets/note/image-20241213121208792.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241213121208792" src="../assets/note/image-20241213121208792.png" /></a></p>
<p>Mode 2,3 æ¯”è¾ƒç‰¹æ®Šï¼Œæ—¢å¯ä»¥ç”µå¹³è§¦å‘ï¼Œä¹Ÿå¯ä»¥è¾¹æ²¿è§¦å‘</p>
<p>è¾¹æ²¿è§¦å‘çš„ä½œç”¨æ˜¯é‡ç½®è®¡æ•°ï¼Œè€Œç”µå¹³è§¦å‘æ˜¯å¼€å¯æˆ–å…³é—­</p>
<p><a class="glightbox" href="../assets/note/image-20241220100603297.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220100603297" src="../assets/note/image-20241220100603297.png" /></a></p>
<p>16550 ä¸²è¡Œé€šä¿¡èŠ¯ç‰‡</p>
<p>å•å·¥ï¼ŒåŠåŒå·¥ï¼Œå…¨åŒå·¥:</p>
<p><a class="glightbox" href="../assets/note/image-20241220101224973.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220101224973" src="../assets/note/image-20241220101224973.png" /></a></p>
<p>ä¸²è¡Œé€šä¿¡: åªèƒ½ä¸€ä½ä¸€ä½ä¼ è¾“</p>
<p><a class="glightbox" href="../assets/note/image-20241220101242259.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220101242259" src="../assets/note/image-20241220101242259.png" /></a></p>
<p>ç¬¬ä¸‰æ­¥éœ€è¦ä½¿ç”¨ä¿¡é“ä¸Šé¢çš„ç¼–ç ï¼ˆç±»ä¼¼è®¡ç½‘ï¼‰ï¼Œè®© 0 å’Œ 1 æ›´æ˜“åŒºåˆ†ï¼ŒæŠ—å¹²æ‰°
åœ¨æ•°æ®ç¼–ç ä¸­è¿˜è¦æä¾›åŒæ­¥ä¿¡å·ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°æ®åŒ…éƒ½è¦æ·»åŠ åŒæ­¥ä¿¡å·ï¼Œé¿å…é”™è¯¯ç´¯è®¡</p>
<p>æœ‰æ•ˆè½½è· Payload å°è£…å¥½åï¼Œåœ¨å‘é€æ—¶é’Ÿçš„é©±åŠ¨ä¸‹ï¼Œç”¨ç§»ä½å¯„å­˜å™¨ä¸€ä½ä¸€ä½å‘é€å‡ºå»</p>
<p>æ¥æ”¶ç«¯åœ¨æ¥æ”¶åˆ°èµ·å§‹ä½æ—¶åŒæ­¥è‡ªå·±çš„æ—¶é’Ÿï¼Œæœ€åè¿˜è¦åˆ©ç”¨æ ¡éªŒä½è¿›è¡Œæ£€éªŒ</p>
<p>å¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œå°±ä¸²è½¬å¹¶ä¼ è¾“ç»™ CPU</p>
<p><strong>Clocks and Timing</strong>:</p>
<p>æ—¶é’Ÿéœ€è¦è€ƒè™‘é‡‡æ ·ä¿¡å·èƒ½é‡æœ€å¤§çš„ç‚¹: ä¸­å¿ƒç‚¹é‡‡æ ·</p>
<p>æ—¶é’Ÿæœ‰ä¸¤ç§å¯èƒ½</p>
<ul>
<li>
<p>åŒæ­¥æ•°æ®ä¼ è¾“ (åŒæ­¥çš„æƒ…å†µæ— éœ€ start bit å’Œ stop bit)</p>
</li>
<li>
<p>æ—¶é’ŸåŒæº: å‘é€å’Œæ¥å—ç«¯ä½¿ç”¨ç›¸åŒçš„æ—¶é’Ÿæº</p>
</li>
<li>
<p>æ—¶é’Ÿå¼‚åœ°: PLL é”ç›¸ç¯: è´Ÿåé¦ˆè®¡æ•°ï¼Œä½œå·®èƒ½å¤Ÿé”å®šå’Œæ•°æ®ç›¸åŒé¢‘ç‡çš„æ—¶é’Ÿ</p>
</li>
<li>
<p>å¼‚æ­¥æ•°æ®ä¼ è¾“</p>
</li>
<li>
<p>éœ€è¦æœ‰ç›¸åŒçš„æ•°æ®ä¼ è¾“é€Ÿç‡: baud rate</p>
</li>
<li>éœ€è¦èµ·åœä½æ¥è¿›è¡Œæ—¶é’Ÿçš„åŒæ­¥</li>
</ul>
<p>åŒæ­¥ä¸å¼‚æ­¥æ•°æ®ä¼ è¾“çš„ä¸åŒ:</p>
<p><a class="glightbox" href="../assets/note/image-20241220102254829.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220102254829" src="../assets/note/image-20241220102254829.png" /></a></p>
<p>ä¸²è¡Œé€šä¿¡: UART / USART</p>
<p>UART: Universal Asynchronous Receiver Transmitter é€šç”¨å¼‚æ­¥ä¼ è¾“</p>
<p>USART: åŒæ—¶æ”¯æŒå¼‚æ­¥å’ŒåŒæ­¥</p>
<p><a class="glightbox" href="../assets/note/image-20241220102420604.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220102420604" src="../assets/note/image-20241220102420604.png" /></a></p>
<p>åœ¨ç¼–ç ä¸­ä½“ç°æ—¶é’Ÿçš„è·³å˜ï¼Œåœ¨æŒç»­ä¼ è¾“ç›¸åŒä½çš„æ—¶å€™ï¼Œä¾ç„¶èƒ½ä½“ç°æ—¶é’Ÿä¿¡æ¯:</p>
<p>NRZ: 0å°±æ˜¯ä½ï¼Œ1å°±æ˜¯é«˜ï¼Œåœ¨ stop bit çš„æ—¶å€™ï¼ŒæŒç»­é«˜ç”µå¹³ï¼Œå°±æ— æ³•åŒæ­¥æ—¶é’Ÿäº†</p>
<p>NRZI: 0 å°±æ˜¯ä¿æŒï¼Œ1 å°±æ˜¯åç›¸ï¼Œåœ¨æˆªæ­¢ä½æŒç»­é«˜ç”µå¹³çš„æ—¶å€™å¾ˆæœ‰å¸®åŠ©</p>
<p><a class="glightbox" href="../assets/note/image-20241220102744405.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220102744405" src="../assets/note/image-20241220102744405.png" /></a></p>
<p>USB ä½¿ç”¨ NRZI</p>
<p>å¼‚æ­¥æ•°æ®ä¼ è¾“åè®®:</p>
<p><a class="glightbox" href="../assets/note/image-20241220102854413.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220102854413" src="../assets/note/image-20241220102854413.png" /></a></p>
<p>æœ‰æ•ˆè½½è·ï¼Œæ ¡éªŒä½ï¼Œåœæ­¢ä½çš„é•¿åº¦å¯å˜ï¼Œä½“ç°å‡ºå¯ç¼–ç¨‹çš„ç‰¹æ€§</p>
<p>ä»¥ UART ä¸ºä¾‹ï¼Œéœ€è¦æ¥æ”¶ç«¯å’Œå‘é€ç«¯çº¦å®šæ³¢ç‰¹ç‡ baud rate</p>
<p>è¿™é‡Œå¹¶ä¸æ˜¯æœ‰æ•ˆæ•°æ®ä¼ è¾“çš„ bit rateï¼Œè€Œæ˜¯ç¼–ç ä¹‹åçš„ä¿¡å·çš„ baud rate</p>
<p>baud rate: 9600 bps,  1 bit éœ€è¦ 1/9600 = 104.2 us çš„æ—¶é—´</p>
<p>è¿›è¡Œé‡‡æ ·çš„æ—¶é’Ÿ: æ³¢ç‰¹ç‡æ—¶é’Ÿ: BCLK</p>
<p>æ³¢ç‰¹ç‡æ—¶é’Ÿçš„é¢‘ç‡éœ€è¦æ˜¯æ³¢ç‰¹ç‡çš„æ•°å€ (8, 16, 32...)</p>
<p>BCLK = baud rate x baud rate divisor (æ³¢ç‰¹ç‡å› å­)</p>
<p><a class="glightbox" href="../assets/note/image-20241220103432120.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220103432120" src="../assets/note/image-20241220103432120.png" /></a></p>
<p>ä½¿ç”¨äº†è¿‡é‡‡æ ·çš„æ–¹æ³•ï¼Œä¹˜äº†æ³¢ç‰¹ç‡å› å­çš„æ—¶é’Ÿé¢‘ç‡</p>
<p>æ™¶æŒ¯äº§ç”Ÿæ—¶é’Ÿé¢‘ç‡ - åˆ†é¢‘ (divisor) - BCLK (å¸¦æœ‰è¿‡é‡‡æ ·å› å­ baud rate divisor)</p>
<p>å› æ­¤åˆ†é¢‘ç³»æ•° divisor: input clock / (baud rate x baud rate divisor)</p>
<p><a class="glightbox" href="../assets/note/image-20241220103606669.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220103606669" src="../assets/note/image-20241220103606669.png" /></a></p>
<p>è®¡æ•°åˆ°æ³¢ç‰¹ç‡å› å­ä¸€åŠä¸ªå‘¨æœŸçš„æ—¶å€™ï¼Œå‘ç°è¿˜æ˜¯ 0 å°±è®¤ä¸ºè¿™æ˜¯èµ·å§‹ä½</p>
<p>éšåæ¯ æ³¢ç‰¹ç‡å› å­ ä¸ªå‘¨æœŸé‡‡æ ·ï¼Œä¾¿å¯ä»¥é‡‡æ ·åˆ°é€šä¿¡è¿‡ç¨‹ä¸­ä¿¡å·æœ€ç¨³å®šçš„æ—¶å€™çš„ç”µå¹³</p>
<p>16550 é€šä¿¡èŠ¯ç‰‡: ç¾å›½ National Semiconductor Corp</p>
<p>æ³¨æ„å­—èŠ‚åº: <strong>least significant bit</strong> ä½æœ‰æ•ˆä½ä¼˜å…ˆä¼ è¾“</p>
<p><a class="glightbox" href="../assets/note/image-20241220104314162.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220104314162" src="../assets/note/image-20241220104314162.png" /></a></p>
<p>16550 baud rate æœ€é«˜å¯ä»¥è¾¾åˆ° 1.5M</p>
<p>éœ€è¦ç¼–ç¨‹ (è®¡ç®— / æŸ¥è¡¨è·å¾—åˆ†é¢‘ç³»æ•° divisor) äº§ç”Ÿæ³¢ç‰¹ç‡æ—¶é’Ÿï¼Œæ³¢ç‰¹ç‡å› å­å›ºå®šä¸º 16</p>
<p>æä¾›ä¸€ä¸ª 16 byte çš„ FIFO ç¼“å†²ï¼Œä»¥é˜²æ­¢ CPU æ²¡æœ‰åŠæ—¶è¯»åˆ°</p>
<p>åŠŸèƒ½åˆ—è¡¨</p>
<ul>
<li>å¯ç¼–ç¨‹çš„è½½è· / æ ¡éªŒ / åœæ­¢ä½é•¿åº¦, 1.5-bit æ˜¯æŒ‡è¯¥ä½çš„æ—¶é•¿æ˜¯ä¸€ä¸ªåŠ</li>
<li>è°ƒåˆ¶è§£è°ƒå™¨åŠŸèƒ½: æŠŠæ•°å­—ä¿¡å·åšè°ƒåˆ¶å˜æˆæ¨¡æ‹Ÿä¿¡å·ï¼ŒåŠ è½½åˆ°ç”µè¯çº¿ä¸Šï¼Œç”µè¯ç½‘ç»œæ™®éå­˜åœ¨ï¼Œä¸”çº¿çš„è´¨é‡å¥½ (æ‹¨å·ä¸Šç½‘)</li>
<li>å…¨åŒå·¥: æœ‰ç‹¬ç«‹çš„å‘é€å’Œæ¥æ”¶å™¨</li>
</ul>
<p><a class="glightbox" href="../assets/note/image-20241220105141878.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220105141878" src="../assets/note/image-20241220105141878.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241220105514586.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220105514586" src="../assets/note/image-20241220105514586.png" /></a></p>
<p>å¼•è„šè§„å®š:</p>
<p><a class="glightbox" href="../assets/note/image-20241220105531214.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220105531214" src="../assets/note/image-20241220105531214.png" /></a></p>
<p>åœ°å€çº¿ 0-2 ä¸‰æ ¹ï¼Œä½†æ˜¯åé¢åˆ©ç”¨å¤ç”¨çš„æ–¹æ³•ï¼Œæä¾›äº† 12 ä¸ªç«¯å£</p>
<p>CS ç‰‡é€‰æœ‰ä¸‰æ ¹ï¼Œä¸ºäº†å…¼å®¹æ€§ï¼Œå®é™…ä¸Šåªç”¨ä¸€ä¸ªå°±è¡Œï¼Œå…¶ä»–çš„å¿…é¡» disable ï¼ˆæˆ–é—¨ï¼‰</p>
<p>è¯»å’Œå†™éƒ½æœ‰ä¸¤ä¸ªï¼Œä¹Ÿæ˜¯ä¸ºäº†å…¼å®¹æ€§ï¼Œå¦ä¸€ä¸ªå¿…é¡» enable ï¼ˆä¸é—¨ï¼‰</p>
<p>ADS: åœ°å€é”å­˜ä¿¡å·: å¹¶ä¸æ˜¯æ‰€æœ‰çš„èŠ¯ç‰‡éƒ½èƒ½ä¿è¯è¯»å†™ä¿¡å·æœ‰æ•ˆçš„æƒ…å†µä¸‹ï¼Œåœ°å€ä»ç„¶æœ‰æ•ˆï¼ˆæ¯”å¦‚æ‘©æ‰˜ç½—æ‹‰çš„ CPUï¼‰, Intel çš„èŠ¯ç‰‡æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿä¸éœ€è¦. åªè¦ç»™ ADS æ¥ä½å°±è¡Œäº†</p>
<p>XIN, XOUT</p>
<p>TXRDY, RXRDY: ç”¨äº DMA</p>
<p>INTR: ä¸­æ–­</p>
<p>SIN, SOUT: ä¸²è¡Œæ•°æ®çš„è¿›å‡ºï¼Œå…¨åŒå·¥</p>
<p>BAUDOUT, RCLK: ä¸¤ä¸ªæ—¶é’Ÿï¼Œä¸€ä¸ªæ˜¯å‘é€æ—¶é’Ÿï¼Œä¸€ä¸ªæ˜¯æ¥æ”¶æ—¶é’Ÿ. å‰è€…æ˜¯å†…éƒ¨äº§ç”Ÿçš„ï¼Œåè€…å¯ä»¥ä»å¤–éƒ¨æ¥è¿‡æ¥</p>
<p>åé¢çš„æ˜¯ç”¨æ¥æ¥è°ƒåˆ¶è§£è°ƒå™¨çš„</p>
<p>åœ°å€çº¿ A0, A1, A2 å¯ä»¥ç´¢å¼•å…«ä¸ªå¯„å­˜å™¨</p>
<p><a class="glightbox" href="../assets/note/image-20241220110348104.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220110348104" src="../assets/note/image-20241220110348104.png" /></a></p>
<p>ä¸€ä¸ªåœ°å€ä¸¤ä¸ªç«¯å£ ï¼ˆè¯»å’Œå†™å¯¹åº”çš„æ˜¯ä¸¤ä¸ªç«¯å£ï¼‰: ç«¯å£å¤ç”¨ï¼Œæœ€ç»ˆæœ‰ 12 ä¸ª</p>
<p><a class="glightbox" href="../assets/note/image-20241220110520586.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220110520586" src="../assets/note/image-20241220110520586.png" /></a></p>
<p>scratch å¯„å­˜å™¨æ˜¯ä¸€ä¸ªé€šç”¨å¯„å­˜å™¨</p>
<p>DLAB ä¸º 1 çš„æ—¶å€™ï¼Œ000 å’Œ 001 å¯ä»¥è®¾ç½®åˆ†é¢‘ç³»æ•°ï¼ˆåˆ†åˆ«æ˜¯ä½æœ‰æ•ˆå­—èŠ‚å’Œé«˜æœ‰æ•ˆå­—èŠ‚ï¼‰</p>
<p>16550 11 ä¸ªå¸¸ç”¨çš„å¯„å­˜å™¨ï¼ˆå¦ä¸€ä¸ªæ˜¯ scratch)</p>
<p><a class="glightbox" href="../assets/note/image-20241220111642990.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220111642990" src="../assets/note/image-20241220111642990.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241220112223787.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220112223787" src="../assets/note/image-20241220112223787.png" /></a></p>
<p>æœ‰ä¸¤ä¸ª FIFO ç¼“å†²ï¼Œç”± FIFO Control Register æ§åˆ¶: ä½¿èƒ½ä¸æ¸…ç©º</p>
<p>16550 çš„ç¼–ç¨‹</p>
<ol>
<li>åˆå§‹åŒ–ï¼šè®¡ç®—æ—¶é’Ÿåˆ†é¢‘å› å­ï¼Œè®¾ç½®æ•°æ®å¸§çš„æ ¼å¼</li>
<li>æ¸…ç† FIFO, å¼€å§‹é€šä¿¡</li>
</ol>
<p>çº¿è·¯æ§åˆ¶å¯„å­˜å™¨çš„æ ¼å¼:</p>
<p><a class="glightbox" href="../assets/note/image-20241220112513151.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220112513151" src="../assets/note/image-20241220112513151.png" /></a></p>
<p>æœ€é«˜ä½æ˜¯ DLAB ä½</p>
<p>stick æ‰“å¼€æ—¶ï¼Œæ ¡éªŒä½å›ºå®š: å¦‚æœæ˜¯å¥‡æ ¡éªŒä¸º 1ï¼Œå¦‚æœæ˜¯å¶æ ¡éªŒä¸º 0ï¼Œä¸æœ‰æ•ˆè½½è·æ— å…³</p>
<p><a class="glightbox" href="../assets/note/image-20241220113111872.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220113111872" src="../assets/note/image-20241220113111872.png" /></a></p>
<p>æ³¢ç‰¹ç‡è®¡ç®—:</p>
<p><a class="glightbox" href="../assets/note/image-20241220113406643.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220113406643" src="../assets/note/image-20241220113406643.png" /></a></p>
<p>è¿™ä¸ªè®¡ç®—æ¯æ¬¡ç®—å¤ªéº»çƒ¦ï¼Œè€Œä¸”ä¸ä¸€å®šæ•´é™¤ï¼Œæ‰€ä»¥ä¹ æƒ¯æ˜¯ä½¿ç”¨æŸ¥è¡¨:</p>
<p><a class="glightbox" href="../assets/note/image-20241220113451492.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220113451492" src="../assets/note/image-20241220113451492.png" /></a></p>
<p>æ¸…ç† FIFO</p>
<p>åˆå§‹åŒ–çš„å®Œæ•´æµç¨‹:</p>
<p><a class="glightbox" href="../assets/note/image-20241220114226202.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220114226202" src="../assets/note/image-20241220114226202.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241220114508544.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220114508544" src="../assets/note/image-20241220114508544.png" /></a></p>
<p>æ³¢ç‰¹ç‡æ—¶é’Ÿç›´æ¥æ¥ç»™æ¥æ”¶ç«¯</p>
<p><a class="glightbox" href="../assets/note/image-20241220114657868.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220114657868" src="../assets/note/image-20241220114657868.png" /></a></p>
<p>çŠ¶æ€å¯„å­˜å™¨:</p>
<p><a class="glightbox" href="../assets/note/image-20241220115453033.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220115453033" src="../assets/note/image-20241220115453033.png" /></a></p>
<p>OE: Overrun Error: FIFO æº¢å‡ºäº†</p>
<p>PE: å¥‡å¶æ ¡éªŒå‡ºé”™</p>
<p>FE: Framing Error: æ¯”å¦‚æ£€æµ‹ç»“æŸä½é•¿åº¦ä¸å¯¹ï¼Œèµ·å§‹ä½é•¿åº¦ä¸å¯¹</p>
<p>TH: èƒ½å¦å‘é€ï¼Œéœ€è¦è½®è¯¢è¿™ä¸€ä½</p>
<p>å‘é€ä»£ç :</p>
<p><a class="glightbox" href="../assets/note/image-20241220115654153.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220115654153" src="../assets/note/image-20241220115654153.png" /></a></p>
<p>æ¥æ”¶ä»£ç : (æ¥æ”¶å’Œå‘é€æ—¶åŒä¸€ä¸ªç«¯å£å·ï¼Œé è¯»å†™ä½œåˆ†ç¦»)</p>
<p><a class="glightbox" href="../assets/note/image-20241220115838439.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220115838439" src="../assets/note/image-20241220115838439.png" /></a></p>
<p>å¦‚æœå‡ºé”™å°±è¿”å› '?'</p>
<p>AD è½¬æ¢ æ•°å­—ä¿¡å·ä¸æ¨¡æ‹Ÿä¿¡å·çš„è½¬æ¢
<a class="glightbox" href="../assets/note/image-20241220120104410.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220120104410" src="../assets/note/image-20241220120104410.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241220120112670.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220120112670" src="../assets/note/image-20241220120112670.png" /></a></p>
<p>æ•°å­—ä¿¡å·è½¬æ¢åˆ°æ¨¡æ‹Ÿä¿¡å·</p>
<p>OA: è¿ç®—æ”¾å¤§å™¨</p>
<p>æœ‰ä¸‰ç§æ‰‹æ®µ:</p>
<ul>
<li>PWM: è„‰å†²å®½åº¦è°ƒåˆ¶</li>
<li>äºŒè¿›åˆ¶å¸¦æƒå€¼çš„ç”µé˜»ç½‘ç»œ Binary weighted resistor</li>
<li>R-2R ladder</li>
</ul>
<p><a class="glightbox" href="../assets/note/image-20241220120307846.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220120307846" src="../assets/note/image-20241220120307846.png" /></a></p>
<p>ä¸€èˆ¬çš„æ•°æ¨¡è½¬æ¢èŠ¯ç‰‡éƒ½æ˜¯é›¶é˜¶ä¿æŒï¼Œå¹¶ä¸æ˜¯è¿ç»­çš„ç”µå‹å€¼ï¼Œæ‰€ä»¥çœ‹èµ·æ¥ä¼šåƒä¸‹å›¾ä¸­é—´è¿™æ ·:</p>
<p><a class="glightbox" href="../assets/note/image-20241220120532046.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220120532046" src="../assets/note/image-20241220120532046.png" /></a></p>
<p>ä½¿ç”¨çš„æ—¶å€™éœ€è¦ç”¨ä½é€šæ»¤æ³¢ï¼Œé¿å…è°æ³¢æˆåˆ†å½±å“</p>
<p>äºŒè¿›åˆ¶æƒå€¼ç”µé˜»ç½‘ç»œ:
<a class="glightbox" href="../assets/note/image-20241220120740031.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220120740031" src="../assets/note/image-20241220120740031.png" /></a></p>
<p>è¿ç®—æ”¾å¤§å™¨ - è¿æ”¾ ä¸­çš„åé¦ˆç”µé˜» Rf åšæˆ R/2ï¼Œå°±èƒ½çº¦æ‰ç”µé˜»ç½‘ç»œä¸­çš„ç”µé˜»é¡¹ R, æ¶ˆæ‰ä¹‹åå°±æœ‰:</p>
<p><a class="glightbox" href="../assets/note/image-20241220121335724.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220121335724" src="../assets/note/image-20241220121335724.png" /></a></p>
<p>R-2R æ¢¯å½¢ç”µè·¯</p>
<p>åˆšæ‰é‚£ä¸ªæ–¹æ³•ï¼Œå› ä¸ºç”µé˜»å€¼ä¸¤å€ä¸¤å€æ‰¾ä¸åˆ°é€šç”¨çš„ï¼Œå› æ­¤æ¯”è¾ƒéš¾å®ç°</p>
<p>R-2R åªè¦æ±‚ä¸¤ä¸ªé˜»å€¼çš„ç”µé˜» R å’Œ 2R å°±èƒ½å®ç°</p>
<p><a class="glightbox" href="../assets/note/image-20241220121646671.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220121646671" src="../assets/note/image-20241220121646671.png" /></a></p>
<p><a class="glightbox" href="../assets/note/image-20241220122025385.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241220122025385" src="../assets/note/image-20241220122025385.png" /></a></p>
<p>ä¸¤ä¸ªå®¹æ˜“æ··æ·†çš„æ¦‚å¿µ: å‚è€ƒç”µå‹ V_ref å’Œæ»¡é‡ç¨‹è¾“å‡ºç”µå‹ V_fs (Full Scale)</p>
<p>æ»¡é‡ç¨‹è¾“å‡ºç”µå‹è¾¾ä¸åˆ° V_ref, V_out æœ€å¤§æ¯” V_ref å·® 1/2^nï¼Œå·®ä¸€ä¸ªæœ€ä½æœ‰æ•ˆä½çš„æ•°å€¼</p>
<p>æ•°æ¨¡è½¬æ¢èŠ¯ç‰‡çš„ä¸»è¦å‚æ•°:</p>
<ul>
<li>Resolution è½¬æ¢ç²¾åº¦: n = 3 ä½æ•°å­—é‡ï¼Œæœ‰ 2^n=8 ä¸ªé—´éš”</li>
</ul>
<p><a class="glightbox" href="../assets/note/image-20241227021044388.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227021044388" src="../assets/note/image-20241227021044388.png" /></a></p>
<p><strong>Resolution = V_ref / 2^n = V_fs / (2^n - 1)</strong></p>
<ul>
<li>Linearity</li>
<li>Settling Time</li>
</ul>
<p>Linearity çº¿æ€§åº¦</p>
<ul>
<li>å®é™…è¿›è¡Œè½¬æ¢è¾“å‡ºæ—¶ï¼Œä¼šç”±äºç§ç§åŸå› ä¼šåç¦»ç†æƒ³çš„ç›´çº¿</li>
<li>ç”µé˜»å‘ç”Ÿäº†å˜åŒ–</li>
<li>è¿æ”¾é›¶ç‚¹å‘ç”Ÿäº†åç§»</li>
<li>V_ref å‘ç”Ÿäº†å˜åŒ–</li>
</ul>
<p><a class="glightbox" href="../assets/note/image-20241227021402398.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227021402398" src="../assets/note/image-20241227021402398.png" /></a></p>
<p>Settling Time å»ºç«‹æ—¶é—´: è¡¡é‡æ€§èƒ½</p>
<p><a class="glightbox" href="../assets/note/image-20241227021641751.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227021641751" src="../assets/note/image-20241227021641751.png" /></a></p>
<p>ç¨³å®šåˆ° ç†æƒ³ç”µå‹ +- 1/2 çš„æœ€å°æ•°å­—é‡ç”µå‹ éœ€è¦çš„æ—¶é—´ï¼Œé€šè¿‡å››èˆäº”å…¥å¯ä»¥å½’åˆ°è¿™ä¸ªå€¼</p>
<p>è®¡ç®—ä¾‹é¢˜: <strong>æœ‰ä¾‹é¢˜éƒ½æ˜¯è¦ç‚¹</strong></p>
<p><a class="glightbox" href="../assets/note/image-20241227022437170.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227022437170" src="../assets/note/image-20241227022437170.png" /></a></p>
<p>P1: å…ˆç®—ä¸€ä¸ªé—´éš”æ˜¯å¤šå°‘: æœ€é«˜ 15V/(2^4-1) = 1V, 0110 (6) æœ‰ 6 ä¸ªé—´éš”ï¼Œæ‰€ä»¥æ˜¯ 6V</p>
<p>P2: Step size å°±æ˜¯ resolution</p>
<p>DAC0830 æ•°æ¨¡è½¬æ¢å™¨</p>
<p><a class="glightbox" href="../assets/note/image-20241227022711620.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227022711620" src="../assets/note/image-20241227022711620.png" /></a></p>
<p>å·¥ä½œæ–¹å¼: ç›´é€šï¼Œä¸€çº§ç¼“å†²ï¼ŒäºŒçº§ç¼“å†²</p>
<p>å¼•è„š:</p>
<p><a class="glightbox" href="../assets/note/image-20241227022756999.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227022756999" src="../assets/note/image-20241227022756999.png" /></a></p>
<p>D0-D7: æ•°å­—é‡è¾“å…¥</p>
<p>IOUT1, IOUT2: è¾“å‡ºæ˜¯ç”µæµï¼Œéœ€è¦é€šè¿‡åé¦ˆç”µé˜»è½¬æ¢æˆç”µå‹ï¼Œæ¥åˆ°å¤–æ¥è¿æ”¾ä¸Š</p>
<p>AGND, DGND åˆ†åˆ«æ˜¯æ¨¡æ‹Ÿå’Œæ•°å­—ä¿¡å·çš„æ¥åœ°ä¿¡å·ï¼Œé¿å…å¹²æ‰°ï¼Œæ•°å­—é‡è°æ³¢æˆåˆ†å¤§ï¼Œä¼šå†²å‡»æ¨¡æ‹Ÿé‡</p>
<p>CS: ä¸€çº§ç¼“å†²çš„ä½¿èƒ½</p>
<p>WR1, WR2: ä¸¤è·¯ç¼“å†²ï¼Œæ¯è·¯ç¼“å†²éƒ½æœ‰å†™ä¿¡å·</p>
<p>ILE: è¾“å…¥ç¼“å†²ä½¿èƒ½ä¿¡å·</p>
<p>XFER: ä¼ è¾“æ§åˆ¶ä¿¡å·ï¼ŒDA è½¬æ¢æ§åˆ¶å™¨çš„æ§åˆ¶ä¿¡å·</p>
<p>RFB: åé¦ˆç”µé˜»ï¼Œéšç€èŠ¯ç‰‡å·²ç»é…å¥½äº†ï¼Œä½†æ˜¯æ˜¯å¤–æ¥çš„</p>
<p>è®¡ç®—ç”µå‹çš„æ—¶å€™ï¼ŒR_fb åº”è¯¥èƒ½è¢«çº¦æ‰</p>
<p><a class="glightbox" href="../assets/note/image-20241227023624335.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227023624335" src="../assets/note/image-20241227023624335.png" /></a></p>
<p>IOUT1+IOUT2 æ˜¯å®šå€¼</p>
<p>R_fb çš„æ¥æ³•:</p>
<p><a class="glightbox" href="../assets/note/image-20241227024034922.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227024034922" src="../assets/note/image-20241227024034922.png" /></a></p>
<p>ä¸¤çº§ç¼“å†²:</p>
<p>latch: æ²¡æœ‰æ—¶é’Ÿä¿¡å·ï¼Œè¾“å‡ºè·Ÿç€è¾“å…¥èµ°</p>
<p>transparent latch: æœ‰ä¸€ä¸ªæ§åˆ¶ä¿¡å·ï¼Œæ§åˆ¶ä¿¡å·ä¸º 1 æ—¶é€æ˜ï¼Œè¾“å‡ºè·Ÿç€è¾“å…¥èµ°ï¼Œæ§åˆ¶ä¿¡å·ä¸º 0 æ—¶é”å­˜ï¼Œä¸é€æ˜</p>
<p><a class="glightbox" href="../assets/note/image-20241227024355836.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227024355836" src="../assets/note/image-20241227024355836.png" /></a></p>
<p>ç¬¬ä¸€è·¯: è¾“å…¥å¯„å­˜å™¨</p>
<ul>
<li>CS, WR1, ILE æ¥æ§åˆ¶ï¼ŒåŒæ—¶ä½¿èƒ½æ—¶ï¼Œç›´é€šï¼ˆé€æ˜ï¼‰ï¼Œå¦åˆ™æ•°æ®è¢«é”å­˜ï¼ˆä¸é€æ˜ï¼‰</li>
</ul>
<p>ç¬¬äºŒè·¯: DA è½¬æ¢å¯„å­˜å™¨</p>
<ul>
<li>WR2, XFER æ§åˆ¶ï¼Œéƒ½ä½¿èƒ½ï¼ˆä½ç”µå¹³ï¼‰æ—¶ï¼Œç›´é€š</li>
</ul>
<p>ä¸‰ç§å·¥ä½œæ¨¡å¼: å…¨éƒ¨é€š-ç›´é€šï¼Œé€šä¸€ä¸ª-å•ç¼“å†²ï¼Œä¸¤ä¸ªéƒ½ä¸é€š-åŒç¼“å†²</p>
<p><a class="glightbox" href="../assets/note/image-20241227025757425.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227025757425" src="../assets/note/image-20241227025757425.png" /></a></p>
<p>æœ€ç»ˆæ¥åˆ° DA è½¬æ¢</p>
<p>èŠ¯ç‰‡ä½¿ç”¨æ—¶æ¥æ³•:</p>
<p><a class="glightbox" href="../assets/note/image-20241227025601767.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227025601767" src="../assets/note/image-20241227025601767.png" /></a></p>
<p>å•ç¼“å†²æ¨¡å¼ä¾‹å­</p>
<p><a class="glightbox" href="../assets/note/image-20241227025917430.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227025917430" src="../assets/note/image-20241227025917430.png" /></a></p>
<p>CS, WR1, WR2 å…¨éƒ¨ä½¿èƒ½ï¼Œåªæœ‰ XFER å—æ§ â€”â€” ä¸€çº§ç¼“å†²ç›´é€šï¼Œç¬¬äºŒçº§å—æ§</p>
<p>æ§åˆ¶ç”µæœºè¿è½¬:</p>
<p>ç¨³å®šè¿è½¬: ç¬¬äºŒçº§é”å­˜</p>
<p>è°ƒé€Ÿ: ç¬¬äºŒçº§ç›´é€šï¼Œè®©è¾“å…¥çš„æ•°å­—é‡è¿›æ¥ï¼Œç„¶åå†é”å­˜</p>
<p>åŒç¼“å†²çš„æ„ä¹‰:</p>
<p><a class="glightbox" href="../assets/note/image-20241227030217973.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227030217973" src="../assets/note/image-20241227030217973.png" /></a></p>
<p>æ¥å…¥å¤šä¸ª DAC çš„æ—¶å€™ï¼Œå¸Œæœ›ä¸¤ä¸ªç”µæœºè½¬é€Ÿæ˜¯åŒæ—¶å˜æ¢çš„ï¼Œè€Œä¸èƒ½æœ‰æ—¶é—´å·®</p>
<p>åˆ†ä¸¤é˜¶æ®µæ¥æ§åˆ¶ï¼Œç¬¬ä¸€é˜¶æ®µåˆ†åˆ«æŠŠè½¬é€Ÿå†™å…¥åˆ°ä¸¤ä¸ª DAC çš„ç¬¬ä¸€çº§</p>
<p>ç¬¬äºŒé˜¶æ®µåŒæ—¶æ‰“å¼€ DAC çš„ç¬¬äºŒçº§ï¼Œäºæ˜¯ä»–ä»¬è½¬é€ŸåŒæ—¶è½¬å˜</p>
<p><a class="glightbox" href="../assets/note/image-20241227030250314.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227030250314" src="../assets/note/image-20241227030250314.png" /></a></p>
<p>åˆ†æ—¶å†™å…¥ï¼ŒåŒæ—¶æ‰“å¼€</p>
<p><a class="glightbox" href="../assets/note/image-20241227030642358.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241227030642358" src="../assets/note/image-20241227030642358.png" /></a></p>
<p>æœŸæœ«å¤ä¹ :</p>
<p>å¡«ç©ºé¢˜ï¼Œå•é€‰é¢˜ï¼Œè®¡ç®—ï¼Œä»£ç å¡«ç©ºï¼Œç®€ç­”</p>
<p>ä»£ç å¡«ç©º è€ƒæ¥å£éƒ¨åˆ†</p>
<p>IEEE 754 ä¼šè€ƒï¼Œè´Ÿæ•°ï¼Œç‰¹æ®Šæƒ…å†µ</p>
<p>å®æ¨¡å¼ï¼Œä¿æŠ¤æ¨¡å¼ï¼Œ64ä½å†…å­˜å¯»å€æ¨¡å¼ï¼Œéƒ½æœ‰è€ƒå¯Ÿ</p>
<p>101012, 29912</p>
<p>å¯»å€</p>
<p>ä¼ªæŒ‡ä»¤</p>
<p>æŒ‡ä»¤å‰ç¼€ REX</p>
<ul>
<li>64ä½æ¨¡å¼æ“ä½œæ•°æ˜¯64ä½</li>
<li>å¯„å­˜å™¨å‡ºç°å¼•ç”¨åé¢å…«ä¸ªå¯„å­˜å™¨çš„ r8-r15</li>
</ul>
<p>enter æŒ‡ä»¤</p>
<p>å‰é¢çš„èŠ¯ç‰‡ä¸ç¼–ç¨‹ç›¸å…³ï¼Œæœ€åDAC0830è€ƒæ¦‚å¿µ</p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="æœ€åæ›´æ–°">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2025å¹´1æœˆ2æ—¥ 21:06:50</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="åˆ›å»ºæ—¥æœŸ">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2025å¹´1æœˆ2æ—¥ 16:04:14</span>
  </span>

    
    
    
  </aside>





<h2 id="__comments" class="no-number">è¯„è®º</h2>
<!-- Insert generated snippet here -->
<script src="https://giscus.app/client.js" data-repo="YooLc/notes" data-repo-id="R_kgDONk4Byg"
    data-category="Announcements" data-category-id="DIC_kwDONk4Bys4ClrHG" data-mapping="pathname" data-strict="0"
    data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme"
    data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async>
    </script>

<!-- Synchronize Giscus theme with palette -->
<script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate" ? "dark" : "light"
        giscus.setAttribute("data-theme", theme)
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function () {
        var ref = document.querySelector("[data-md-component=palette]")
        ref.addEventListener("change", function () {
            var palette = __md_get("__palette")
            if (palette && typeof palette.color === "object") {
                var theme = palette.color.scheme === "slate" ? "dark" : "light"

                /* Instruct Giscus to change theme */
                var frame = document.querySelector(".giscus-frame")
                frame.contentWindow.postMessage(
                    { giscus: { setConfig: { theme } } },
                    "https://giscus.app"
                )
            }
        })
    })
</script>

                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  å›åˆ°é¡µé¢é¡¶éƒ¨
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="é¡µè„š" >
        
          
          <a href="../chapter-9-11/" class="md-footer__link md-footer__link--prev" aria-label="ä¸Šä¸€é¡µ: æ¥å£">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                ä¸Šä¸€é¡µ
              </span>
              <div class="md-ellipsis">
                æ¥å£
              </div>
            </div>
          </a>
        
        
          
          <a href="../final/" class="md-footer__link md-footer__link--next" aria-label="ä¸‹ä¸€é¡µ: æœŸæœ«å†å¹´å·">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                ä¸‹ä¸€é¡µ
              </span>
              <div class="md-ellipsis">
                æœŸæœ«å†å¹´å·
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <!-- Copyright and theme information -->
<div class="md-copyright" style="width: 100%;">
    <div style="display: flex; justify-content: space-between; align-items: center">
        <div>
            
            <div class="md-copyright__highlight">
                YooLc ğŸ„¯ Copyleft 2024 - 2025
            </div>
            
            
            åŸºäº
            <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
                Material for MkDocs
            </a>
            æ„å»º
            
        </div>
        <div style="display: flex; align-items: center; height: 32px; width: fit-content;">
            <a href="https://notbyai.fyi/" target="_blank" rel="noopener noreferrer" style="margin-right: 10px;">
                <img src="/notes/assets/by-human-black.svg" alt="by-human" style="height: 32px; margin: 0;">
            </a>
            <a href="https://creativecommons.org/publicdomain/zero/1.0/?ref=chooser-v1" target="_blank"
                rel="license noopener noreferrer" style="margin-right: 3px;">
                <img style="height: 22px!important; margin: 0;"
                    src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt="">
            </a>
            <a href="https://creativecommons.org/publicdomain/zero/1.0/?ref=chooser-v1" target="_blank"
                rel="license noopener noreferrer">
                <img style="height: 22px!important; margin: 0;"
                    src="https://mirrors.creativecommons.org/presskit/icons/zero.svg?ref=chooser-v1" alt="">
            </a>
        </div>
    </div>
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["announce.dismiss", "content.code.copy", "content.code.select", "content.code.annotate", "navigation.footer", "navigation.tabs", "navigation.indexes", "navigation.sections", "navigation.indexes", "navigation.tracking", "navigation.path", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.top", "toc.follow", "content.action.edit", "search.suggest", "search.highlight", "search.share"], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.alicdn.com/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>